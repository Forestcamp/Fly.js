/*  Fly.js 
(c) 2013 Oleg Pimenov, 
Distributed under MIT license
http://github.com/Forestcamp/Fly.js 
 */function extend(t,e){"use strict";var i,n=Object.prototype.toString,s=n.call({});for(i in t)t.hasOwnProperty(i)&&(s===n.call(t[i])?(e[i]=e[i]||{},extend(e[i],t[i])):e[i]=t[i]);return e}var Stats=function(){var t=Date.now(),e=t,i=0,n=1/0,s=0,r=0,a=1/0,o=0,h=0,l=0,c=document.createElement("div");c.id="stats",c.addEventListener("mousedown",function(t){t.preventDefault(),g(++l%2)},!1),c.style.cssText="width:80px;opacity:0.9;cursor:pointer";var u=document.createElement("div");u.id="fps",u.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",c.appendChild(u);var d=document.createElement("div");d.id="fpsText",d.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",d.innerHTML="FPS",u.appendChild(d);var f=document.createElement("div");for(f.id="fpsGraph",f.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",u.appendChild(f);74>f.children.length;){var p=document.createElement("span");p.style.cssText="width:1px;height:30px;float:left;background-color:#113",f.appendChild(p)}var _=document.createElement("div");_.id="ms",_.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",c.appendChild(_);var m=document.createElement("div");m.id="msText",m.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",m.innerHTML="MS",_.appendChild(m);var v=document.createElement("div");for(v.id="msGraph",v.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",_.appendChild(v);74>v.children.length;)p=document.createElement("span"),p.style.cssText="width:1px;height:30px;float:left;background-color:#131",v.appendChild(p);var g=function(t){switch(l=t){case 0:u.style.display="block",_.style.display="none";break;case 1:u.style.display="none",_.style.display="block"}};return{REVISION:11,domElement:c,setMode:g,begin:function(){t=Date.now()},end:function(){var l=Date.now();i=l-t,n=Math.min(n,i),s=Math.max(s,i),m.textContent=i+" MS ("+n+"-"+s+")";var c=Math.min(30,30-30*(i/200));return v.appendChild(v.firstChild).style.height=c+"px",h++,l>e+1e3&&(r=Math.round(1e3*h/(l-e)),a=Math.min(a,r),o=Math.max(o,r),d.textContent=r+" FPS ("+a+"-"+o+")",c=Math.min(30,30-30*(r/100)),f.appendChild(f.firstChild).style.height=c+"px",e=l,h=0),l},update:function(){t=this.end()}}};this.createjs=this.createjs||{},function(){var t=function(){throw"UID cannot be instantiated"};t._nextID=0,t.get=function(){return t._nextID++},createjs.UID=t}(),this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.removeEventListener=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent},e._listeners=null,e.initialize=function(){},e.addEventListener=function(t,e){var i=this._listeners;i?this.removeEventListener(t,e):i=this._listeners={};var n=i[t];return n||(n=i[t]=[]),n.push(e),e},e.removeEventListener=function(t,e){var i=this._listeners;if(i){var n=i[t];if(n)for(var s=0,r=n.length;r>s;s++)if(n[s]==e){1==r?delete i[t]:n.splice(s,1);break}}},e.removeAllEventListeners=function(t){t?this._listeners&&delete this._listeners[t]:this._listeners=null},e.dispatchEvent=function(t,e){var i=!1,n=this._listeners;if(t&&n){"string"==typeof t&&(t={type:t});var s=n[t.type];if(!s)return i;t.target=e||this,s=s.slice();for(var r=0,a=s.length;a>r;r++){var o=s[r];i=o.handleEvent?i||o.handleEvent(t):i||o(t)}}return!!i},e.hasEventListener=function(t){var e=this._listeners;return!(!e||!e[t])},e.toString=function(){return"[EventDispatcher]"},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){var t=function(){throw"Ticker cannot be instantiated."};t.useRAF=!1,t.addEventListener=null,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t._listeners=null,t._pauseable=null,t._paused=!1,t._inited=!1,t._startTime=0,t._pausedTime=0,t._ticks=0,t._pausedTicks=0,t._interval=50,t._lastTime=0,t._times=null,t._tickTimes=null,t._rafActive=!1,t._timeoutID=null,t.addListener=function(e,i){null!=e&&(t.removeListener(e),t._pauseable[t._listeners.length]=null==i?!0:i,t._listeners.push(e))},t.init=function(){t._inited=!0,t._times=[],t._tickTimes=[],t._pauseable=[],t._listeners=[],t._times.push(t._lastTime=t._startTime=t._getTime()),t.setInterval(t._interval)},t.removeListener=function(e){var i=t._listeners;if(i){var n=i.indexOf(e);-1!=n&&(i.splice(n,1),t._pauseable.splice(n,1))}},t.removeAllListeners=function(){t._listeners=[],t._pauseable=[]},t.setInterval=function(e){t._interval=e,t._inited&&t._setupTick()},t.getInterval=function(){return t._interval},t.setFPS=function(e){t.setInterval(1e3/e)},t.getFPS=function(){return 1e3/t._interval},t.getMeasuredFPS=function(e){return 2>t._times.length?-1:(null==e&&(e=0|t.getFPS()),e=Math.min(t._times.length-1,e),1e3/((t._times[0]-t._times[e])/e))},t.setPaused=function(e){t._paused=e},t.getPaused=function(){return t._paused},t.getTime=function(e){return t._getTime()-t._startTime-(e?t._pausedTime:0)},t.getTicks=function(e){return t._ticks-(e?t._pausedTicks:0)},t._handleAF=function(){t._rafActive=!1,t._setupTick(),t._getTime()-t._lastTime>=.97*(t._interval-1)&&t._tick()},t._handleTimeout=function(){t.timeoutID=null,t._setupTick(),t._tick()},t._setupTick=function(){if(!t._rafActive&&null==t.timeoutID){if(t.useRAF){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(e)return e(t._handleAF),t._rafActive=!0,void 0}t.timeoutID=setTimeout(t._handleTimeout,t._interval)}},t._tick=function(){var e=t._getTime();t._ticks++;var i=e-t._lastTime,n=t._paused;n&&(t._pausedTicks++,t._pausedTime+=i),t._lastTime=e;for(var s=t._pauseable,r=t._listeners.slice(),a=r?r.length:0,o=0;a>o;o++){var h=r[o];null==h||n&&s[o]||(h.tick?h.tick(i,n):h instanceof Function&&h(i,n))}for(t.dispatchEvent({type:"tick",paused:n,delta:i,time:e,runTime:e-t._pausedTime}),t._tickTimes.unshift(t._getTime()-e);t._tickTimes.length>100;)t._tickTimes.pop();for(t._times.unshift(e);t._times.length>100;)t._times.pop()};var e=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);t._getTime=function(){return e&&e.call(performance)||(new Date).getTime()},t.init(),createjs.Ticker=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n,s,r,a,o,h){this.initialize(t,e,i,n,s,r,a,o,h)},e=t.prototype;e.stageX=0,e.stageY=0,e.rawX=0,e.rawY=0,e.type=null,e.nativeEvent=null,e.onMouseMove=null,e.onMouseUp=null,e.target=null,e.pointerID=0,e.primary=!1,e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e.initialize=function(t,e,i,n,s,r,a,o,h){this.type=t,this.stageX=e,this.stageY=i,this.target=n,this.nativeEvent=s,this.pointerID=r,this.primary=a,this.rawX=null==o?e:o,this.rawY=null==h?i:h},e.clone=function(){return new t(this.type,this.stageX,this.stageY,this.target,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},e.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n,s,r){this.initialize(t,e,i,n,s,r)},e=t.prototype;t.identity=null,t.DEG_TO_RAD=Math.PI/180,e.a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.alpha=1,e.shadow=null,e.compositeOperation=null,e.initialize=function(t,e,i,n,s,r){return null!=t&&(this.a=t),this.b=e||0,this.c=i||0,null!=n&&(this.d=n),this.tx=s||0,this.ty=r||0,this},e.prepend=function(t,e,i,n,s,r){var a=this.tx;if(1!=t||0!=e||0!=i||1!=n){var o=this.a,h=this.c;this.a=o*t+this.b*i,this.b=o*e+this.b*n,this.c=h*t+this.d*i,this.d=h*e+this.d*n}return this.tx=a*t+this.ty*i+s,this.ty=a*e+this.ty*n+r,this},e.append=function(t,e,i,n,s,r){var a=this.a,o=this.b,h=this.c,l=this.d;return this.a=t*a+e*h,this.b=t*o+e*l,this.c=i*a+n*h,this.d=i*o+n*l,this.tx=s*a+r*h+this.tx,this.ty=s*o+r*l+this.ty,this},e.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty),this.prependProperties(t.alpha,t.shadow,t.compositeOperation),this},e.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty),this.appendProperties(t.alpha,t.shadow,t.compositeOperation),this},e.prependTransform=function(e,i,n,s,r,a,o,h,l){if(r%360)var c=r*t.DEG_TO_RAD,u=Math.cos(c),d=Math.sin(c);else u=1,d=0;return(h||l)&&(this.tx-=h,this.ty-=l),a||o?(a*=t.DEG_TO_RAD,o*=t.DEG_TO_RAD,this.prepend(u*n,d*n,-d*s,u*s,0,0),this.prepend(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),e,i)):this.prepend(u*n,d*n,-d*s,u*s,e,i),this},e.appendTransform=function(e,i,n,s,r,a,o,h,l){if(r%360)var c=r*t.DEG_TO_RAD,u=Math.cos(c),d=Math.sin(c);else u=1,d=0;return a||o?(a*=t.DEG_TO_RAD,o*=t.DEG_TO_RAD,this.append(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),e,i),this.append(u*n,d*n,-d*s,u*s,0,0)):this.append(u*n,d*n,-d*s,u*s,e,i),(h||l)&&(this.tx-=h*this.a+l*this.c,this.ty-=h*this.b+l*this.d),this},e.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a,s=this.c,r=this.tx;return this.a=n*e-this.b*i,this.b=n*i+this.b*e,this.c=s*e-this.d*i,this.d=s*i+this.d*e,this.tx=r*e-this.ty*i,this.ty=r*i+this.ty*e,this},e.skew=function(e,i){return e*=t.DEG_TO_RAD,i*=t.DEG_TO_RAD,this.append(Math.cos(i),Math.sin(i),-Math.sin(e),Math.cos(e),0,0),this},e.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},e.translate=function(t,e){return this.tx+=t,this.ty+=e,this},e.identity=function(){return this.alpha=this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.shadow=this.compositeOperation=null,this},e.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,s=this.tx,r=t*n-e*i;return this.a=n/r,this.b=-e/r,this.c=-i/r,this.d=t/r,this.tx=(i*this.ty-n*s)/r,this.ty=-(t*this.ty-e*s)/r,this},e.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d},e.decompose=function(e){null==e&&(e={}),e.x=this.tx,e.y=this.ty,e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var i=Math.atan2(-this.c,this.d),n=Math.atan2(this.b,this.a);return i==n?(e.rotation=n/t.DEG_TO_RAD,0>this.a&&this.d>=0&&(e.rotation+=0>=e.rotation?180:-180),e.skewX=e.skewY=0):(e.skewX=i/t.DEG_TO_RAD,e.skewY=n/t.DEG_TO_RAD),e},e.reinitialize=function(t,e,i,n,s,r,a,o,h){return this.initialize(t,e,i,n,s,r),this.alpha=a||1,this.shadow=o,this.compositeOperation=h,this},e.appendProperties=function(t,e,i){return this.alpha*=t,this.shadow=e||this.shadow,this.compositeOperation=i||this.compositeOperation,this},e.prependProperties=function(t,e,i){return this.alpha*=t,this.shadow=this.shadow||e,this.compositeOperation=this.compositeOperation||i,this},e.clone=function(){var e=new t(this.a,this.b,this.c,this.d,this.tx,this.ty);return e.shadow=this.shadow,e.alpha=this.alpha,e.compositeOperation=this.compositeOperation,e},e.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},t.identity=new t(1,0,0,1,0,0),createjs.Matrix2D=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e){this.initialize(t,e)},e=t.prototype;e.x=0,e.y=0,e.initialize=function(t,e){this.x=null==t?0:t,this.y=null==e?0:e},e.clone=function(){return new t(this.x,this.y)},e.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n){this.initialize(t,e,i,n)},e=t.prototype;e.x=0,e.y=0,e.width=0,e.height=0,e.initialize=function(t,e,i,n){this.x=null==t?0:t,this.y=null==e?0:e,this.width=null==i?0:i,this.height=null==n?0:n},e.clone=function(){return new t(this.x,this.y,this.width,this.height)},e.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n,s,r,a){this.initialize(t,e,i,n,s,r,a)},e=t.prototype;e.target=null,e.overLabel=null,e.outLabel=null,e.downLabel=null,e.play=!1,e._isPressed=!1,e._isOver=!1,e.initialize=function(t,e,i,n,s,r,a){t.addEventListener&&(this.target=t,t.cursor="pointer",this.overLabel=null==i?"over":i,this.outLabel=null==e?"out":e,this.downLabel=null==n?"down":n,this.play=s,this.setEnabled(!0),this.handleEvent({}),r&&(a&&(r.actionsEnabled=!1,r.gotoAndStop&&r.gotoAndStop(a)),t.hitArea=r))},e.setEnabled=function(t){var e=this.target;t?(e.addEventListener("mouseover",this),e.addEventListener("mouseout",this),e.addEventListener("mousedown",this)):(e.removeEventListener("mouseover",this),e.removeEventListener("mouseout",this),e.removeEventListener("mousedown",this))},e.toString=function(){return"[ButtonHelper]"},e.handleEvent=function(t){var e,i=this.target,n=t.type;"mousedown"==n?(t.addEventListener("mouseup",this),this._isPressed=!0,e=this.downLabel):"mouseup"==n?(this._isPressed=!1,e=this._isOver?this.overLabel:this.outLabel):"mouseover"==n?(this._isOver=!0,e=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,e=this._isPressed?this.overLabel:this.outLabel),this.play?i.gotoAndPlay&&i.gotoAndPlay(e):i.gotoAndStop&&i.gotoAndStop(e)},createjs.ButtonHelper=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n){this.initialize(t,e,i,n)},e=t.prototype;t.identity=null,e.color=null,e.offsetX=0,e.offsetY=0,e.blur=0,e.initialize=function(t,e,i,n){this.color=t,this.offsetX=e,this.offsetY=i,this.blur=n},e.toString=function(){return"[Shadow]"},e.clone=function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)},t.identity=new t("transparent",0,0,0),createjs.Shadow=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype;e.complete=!0,e.onComplete=null,e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e._animations=null,e._frames=null,e._images=null,e._data=null,e._loadCount=0,e._frameHeight=0,e._frameWidth=0,e._numFrames=0,e._regX=0,e._regY=0,e.initialize=function(t){var e,i,n,s;if(null!=t){if(t.images&&(i=t.images.length)>0)for(s=this._images=[],e=0;i>e;e++){var r=t.images[e];if("string"==typeof r){var a=r;r=new Image,r.src=a}s.push(r),r.getContext||r.complete||(this._loadCount++,this.complete=!1,function(t){r.onload=function(){t._handleImageLoad()}}(this))}if(null==t.frames);else if(t.frames instanceof Array)for(this._frames=[],s=t.frames,e=0,i=s.length;i>e;e++){var o=s[e];this._frames.push({image:this._images[o[4]?o[4]:0],rect:new createjs.Rectangle(o[0],o[1],o[2],o[3]),regX:o[5]||0,regY:o[6]||0})}else n=t.frames,this._frameWidth=n.width,this._frameHeight=n.height,this._regX=n.regX||0,this._regY=n.regY||0,this._numFrames=n.count,0==this._loadCount&&this._calculateFrames();if(null!=(n=t.animations)){this._animations=[],this._data={};var h;for(h in n){var l={name:h},c=n[h];if("number"==typeof c)s=l.frames=[c];else if(c instanceof Array)if(1==c.length)l.frames=[c[0]];else for(l.frequency=c[3],l.next=c[2],s=l.frames=[],e=c[0];c[1]>=e;e++)s.push(e);else{l.frequency=c.frequency,l.next=c.next;var u=c.frames;s=l.frames="number"==typeof u?[u]:u.slice(0)}l.next=2>s.length||0==l.next?null:null==l.next||1==l.next?h:l.next,l.frequency||(l.frequency=1),this._animations.push(h),this._data[h]=l}}}},e.getNumFrames=function(t){if(null==t)return this._frames?this._frames.length:this._numFrames;var e=this._data[t];return null==e?0:e.frames.length},e.getAnimations=function(){return this._animations.slice(0)},e.getAnimation=function(t){return this._data[t]},e.getFrame=function(t){var e;return this.complete&&this._frames&&(e=this._frames[t])?e:null},e.getFrameBounds=function(t){var e=this.getFrame(t);return e?new createjs.Rectangle(-e.regX,-e.regY,e.rect.width,e.rect.height):null},e.toString=function(){return"[SpriteSheet]"},e.clone=function(){var e=new t;return e.complete=this.complete,e._animations=this._animations,e._frames=this._frames,e._images=this._images,e._data=this._data,e._frameHeight=this._frameHeight,e._frameWidth=this._frameWidth,e._numFrames=this._numFrames,e._loadCount=this._loadCount,e},e._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.onComplete&&this.onComplete(),this.dispatchEvent("complete"))},e._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];for(var t=0,e=this._frameWidth,i=this._frameHeight,n=0,s=this._images;s.length>n;n++){for(var r=s[n],a=0|(r.width+1)/e,o=0|(r.height+1)/i,h=this._numFrames>0?Math.min(this._numFrames-t,a*o):a*o,l=0;h>l;l++)this._frames.push({image:r,rect:new createjs.Rectangle(l%a*e,(0|l/a)*i,e,i),regX:this._regX,regY:this._regY});t+=h}this._numFrames=t}},createjs.SpriteSheet=t}(),this.createjs=this.createjs||{},function(){function t(t,e,i){this.f=t,this.params=e,this.path=null==i?!0:i}t.prototype.exec=function(t){this.f.apply(t,this.params)};var e=function(){this.initialize()},i=e.prototype;e.getRGB=function(t,e,i,n){return null!=t&&null==i&&(n=e,i=255&t,e=255&t>>8,t=255&t>>16),null==n?"rgb("+t+","+e+","+i+")":"rgba("+t+","+e+","+i+","+n+")"},e.getHSL=function(t,e,i,n){return null==n?"hsl("+t%360+","+e+"%,"+i+"%)":"hsla("+t%360+","+e+"%,"+i+"%,"+n+")"},e.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},e.STROKE_CAPS_MAP=["butt","round","square"],e.STROKE_JOINTS_MAP=["miter","round","bevel"],e._ctx=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).getContext("2d"),e.beginCmd=new t(e._ctx.beginPath,[],!1),e.fillCmd=new t(e._ctx.fill,[],!1),e.strokeCmd=new t(e._ctx.stroke,[],!1),i._strokeInstructions=null,i._strokeStyleInstructions=null,i._ignoreScaleStroke=!1,i._fillInstructions=null,i._instructions=null,i._oldInstructions=null,i._activeInstructions=null,i._active=!1,i._dirty=!1,i.initialize=function(){this.clear(),this._ctx=e._ctx},i.isEmpty=function(){return!(this._instructions.length||this._oldInstructions.length||this._activeInstructions.length)},i.draw=function(t){this._dirty&&this._updateInstructions();for(var e=this._instructions,i=0,n=e.length;n>i;i++)e[i].exec(t)},i.drawAsPath=function(t){this._dirty&&this._updateInstructions();for(var e,i=this._instructions,n=0,s=i.length;s>n;n++)((e=i[n]).path||0==n)&&e.exec(t)},i.moveTo=function(e,i){return this._activeInstructions.push(new t(this._ctx.moveTo,[e,i])),this},i.lineTo=function(e,i){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.lineTo,[e,i])),this},i.arcTo=function(e,i,n,s,r){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.arcTo,[e,i,n,s,r])),this},i.arc=function(e,i,n,s,r,a){return this._dirty=this._active=!0,null==a&&(a=!1),this._activeInstructions.push(new t(this._ctx.arc,[e,i,n,s,r,a])),this},i.quadraticCurveTo=function(e,i,n,s){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.quadraticCurveTo,[e,i,n,s])),this},i.bezierCurveTo=function(e,i,n,s,r,a){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.bezierCurveTo,[e,i,n,s,r,a])),this},i.rect=function(e,i,n,s){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.rect,[e,i,n,s])),this},i.closePath=function(){return this._active&&(this._dirty=!0,this._activeInstructions.push(new t(this._ctx.closePath,[]))),this},i.clear=function(){return this._instructions=[],this._oldInstructions=[],this._activeInstructions=[],this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=null,this._active=this._dirty=!1,this},i.beginFill=function(i){return this._active&&this._newPath(),this._fillInstructions=i?[new t(this._setProp,["fillStyle",i],!1),e.fillCmd]:null,this},i.beginLinearGradientFill=function(i,n,s,r,a,o){this._active&&this._newPath();for(var h=this._ctx.createLinearGradient(s,r,a,o),l=0,c=i.length;c>l;l++)h.addColorStop(n[l],i[l]);return this._fillInstructions=[new t(this._setProp,["fillStyle",h],!1),e.fillCmd],this},i.beginRadialGradientFill=function(i,n,s,r,a,o,h,l){this._active&&this._newPath();for(var c=this._ctx.createRadialGradient(s,r,a,o,h,l),u=0,d=i.length;d>u;u++)c.addColorStop(n[u],i[u]);return this._fillInstructions=[new t(this._setProp,["fillStyle",c],!1),e.fillCmd],this},i.beginBitmapFill=function(i,n,s){this._active&&this._newPath(),n=n||"";var r,a=this._ctx.createPattern(i,n),o=new t(this._setProp,["fillStyle",a],!1);return r=s?[o,new t(this._ctx.save,[],!1),new t(this._ctx.transform,[s.a,s.b,s.c,s.d,s.tx,s.ty],!1),e.fillCmd,new t(this._ctx.restore,[],!1)]:[o,e.fillCmd],this._fillInstructions=r,this},i.endFill=function(){return this.beginFill()},i.setStrokeStyle=function(i,n,s,r,a){return this._active&&this._newPath(),this._strokeStyleInstructions=[new t(this._setProp,["lineWidth",null==i?"1":i],!1),new t(this._setProp,["lineCap",null==n?"butt":isNaN(n)?n:e.STROKE_CAPS_MAP[n]],!1),new t(this._setProp,["lineJoin",null==s?"miter":isNaN(s)?s:e.STROKE_JOINTS_MAP[s]],!1),new t(this._setProp,["miterLimit",null==r?"10":r],!1)],this._ignoreScaleStroke=a,this},i.beginStroke=function(e){return this._active&&this._newPath(),this._strokeInstructions=e?[new t(this._setProp,["strokeStyle",e],!1)]:null,this},i.beginLinearGradientStroke=function(e,i,n,s,r,a){this._active&&this._newPath();for(var o=this._ctx.createLinearGradient(n,s,r,a),h=0,l=e.length;l>h;h++)o.addColorStop(i[h],e[h]);return this._strokeInstructions=[new t(this._setProp,["strokeStyle",o],!1)],this},i.beginRadialGradientStroke=function(e,i,n,s,r,a,o,h){this._active&&this._newPath();for(var l=this._ctx.createRadialGradient(n,s,r,a,o,h),c=0,u=e.length;u>c;c++)l.addColorStop(i[c],e[c]);return this._strokeInstructions=[new t(this._setProp,["strokeStyle",l],!1)],this},i.beginBitmapStroke=function(e,i){this._active&&this._newPath(),i=i||"";var n=this._ctx.createPattern(e,i);return this._strokeInstructions=[new t(this._setProp,["strokeStyle",n],!1)],this},i.endStroke=function(){return this.beginStroke(),this},i.curveTo=i.quadraticCurveTo,i.drawRect=i.rect,i.drawRoundRect=function(t,e,i,n,s){return this.drawRoundRectComplex(t,e,i,n,s,s,s,s),this},i.drawRoundRectComplex=function(e,i,n,s,r,a,o,h){var l=(s>n?n:s)/2,c=0,u=0,d=0,f=0;0>r&&(r*=c=-1),r>l&&(r=l),0>a&&(a*=u=-1),a>l&&(a=l),0>o&&(o*=d=-1),o>l&&(o=l),0>h&&(h*=f=-1),h>l&&(h=l),this._dirty=this._active=!0;var p=this._ctx.arcTo,_=this._ctx.lineTo;return this._activeInstructions.push(new t(this._ctx.moveTo,[e+n-a,i]),new t(p,[e+n+a*u,i-a*u,e+n,i+a,a]),new t(_,[e+n,i+s-o]),new t(p,[e+n+o*d,i+s+o*d,e+n-o,i+s,o]),new t(_,[e+h,i+s]),new t(p,[e-h*f,i+s+h*f,e,i+s-h,h]),new t(_,[e,i+r]),new t(p,[e-r*c,i-r*c,e+r,i,r]),new t(this._ctx.closePath)),this},i.drawCircle=function(t,e,i){return this.arc(t,e,i,0,2*Math.PI),this},i.drawEllipse=function(e,i,n,s){this._dirty=this._active=!0;var r=.5522848,a=n/2*r,o=s/2*r,h=e+n,l=i+s,c=e+n/2,u=i+s/2;return this._activeInstructions.push(new t(this._ctx.moveTo,[e,u]),new t(this._ctx.bezierCurveTo,[e,u-o,c-a,i,c,i]),new t(this._ctx.bezierCurveTo,[c+a,i,h,u-o,h,u]),new t(this._ctx.bezierCurveTo,[h,u+o,c+a,l,c,l]),new t(this._ctx.bezierCurveTo,[c-a,l,e,u+o,e,u])),this},i.drawPolyStar=function(e,i,n,s,r,a){this._dirty=this._active=!0,null==r&&(r=0),r=1-r,null==a?a=0:a/=180/Math.PI;var o=Math.PI/s;this._activeInstructions.push(new t(this._ctx.moveTo,[e+Math.cos(a)*n,i+Math.sin(a)*n]));for(var h=0;s>h;h++)a+=o,1!=r&&this._activeInstructions.push(new t(this._ctx.lineTo,[e+Math.cos(a)*n*r,i+Math.sin(a)*n*r])),a+=o,this._activeInstructions.push(new t(this._ctx.lineTo,[e+Math.cos(a)*n,i+Math.sin(a)*n]));return this},i.decodePath=function(t){for(var i=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],n=[2,2,4,6,0],s=0,r=t.length,a=[],o=0,h=0,l=e.BASE_64;r>s;){var c=t.charAt(s),u=l[c],d=u>>3,f=i[d];if(!f||3&u)throw"bad path data (@"+s+"): "+c;var p=n[d];d||(o=h=0),a.length=0,s++;for(var _=(1&u>>2)+2,m=0;p>m;m++){var v=l[t.charAt(s)],g=v>>5?-1:1;v=(31&v)<<6|l[t.charAt(s+1)],3==_&&(v=v<<6|l[t.charAt(s+2)]),v=g*v/10,m%2?o=v+=o:h=v+=h,a[m]=v,s+=_}f.apply(this,a)}return this},i.clone=function(){var t=new e;return t._instructions=this._instructions.slice(),t._activeInstructions=this._activeInstructions.slice(),t._oldInstructions=this._oldInstructions.slice(),this._fillInstructions&&(t._fillInstructions=this._fillInstructions.slice()),this._strokeInstructions&&(t._strokeInstructions=this._strokeInstructions.slice()),this._strokeStyleInstructions&&(t._strokeStyleInstructions=this._strokeStyleInstructions.slice()),t._active=this._active,t._dirty=this._dirty,t},i.toString=function(){return"[Graphics]"},i.mt=i.moveTo,i.lt=i.lineTo,i.at=i.arcTo,i.bt=i.bezierCurveTo,i.qt=i.quadraticCurveTo,i.a=i.arc,i.r=i.rect,i.cp=i.closePath,i.c=i.clear,i.f=i.beginFill,i.lf=i.beginLinearGradientFill,i.rf=i.beginRadialGradientFill,i.bf=i.beginBitmapFill,i.ef=i.endFill,i.ss=i.setStrokeStyle,i.s=i.beginStroke,i.ls=i.beginLinearGradientStroke,i.rs=i.beginRadialGradientStroke,i.bs=i.beginBitmapStroke,i.es=i.endStroke,i.dr=i.drawRect,i.rr=i.drawRoundRect,i.rc=i.drawRoundRectComplex,i.dc=i.drawCircle,i.de=i.drawEllipse,i.dp=i.drawPolyStar,i.p=i.decodePath,i._updateInstructions=function(){this._instructions=this._oldInstructions.slice(),this._instructions.push(e.beginCmd),this._instructions.push.apply(this._instructions,this._activeInstructions),this._fillInstructions&&this._instructions.push.apply(this._instructions,this._fillInstructions),this._strokeInstructions&&(this._strokeStyleInstructions&&this._instructions.push.apply(this._instructions,this._strokeStyleInstructions),this._instructions.push.apply(this._instructions,this._strokeInstructions),this._ignoreScaleStroke?this._instructions.push(new t(this._ctx.save,[],!1),new t(this._ctx.setTransform,[1,0,0,1,0,0],!1),e.strokeCmd,new t(this._ctx.restore,[],!1)):this._instructions.push(e.strokeCmd))},i._newPath=function(){this._dirty&&this._updateInstructions(),this._oldInstructions=this._instructions,this._activeInstructions=[],this._active=this._dirty=!1},i._setProp=function(t,e){this[t]=e},createjs.Graphics=e}(),this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},e=t.prototype;t.suppressCrossDomainErrors=!1,t._hitTestCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),t._hitTestCanvas.width=t._hitTestCanvas.height=1,t._hitTestContext=t._hitTestCanvas.getContext("2d"),t._nextCacheID=1,e.alpha=1,e.cacheCanvas=null,e.id=-1,e.mouseEnabled=!0,e.name=null,e.parent=null,e.regX=0,e.regY=0,e.rotation=0,e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.shadow=null,e.visible=!0,e.x=0,e.y=0,e.compositeOperation=null,e.snapToPixel=!1,e.onPress=null,e.onClick=null,e.onDoubleClick=null,e.onMouseOver=null,e.onMouseOut=null,e.onTick=null,e.filters=null,e.cacheID=0,e.mask=null,e.hitArea=null,e.cursor=null,e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e._cacheOffsetX=0,e._cacheOffsetY=0,e._cacheScale=1,e._cacheDataURLID=0,e._cacheDataURL=null,e._matrix=null,e.initialize=function(){this.id=createjs.UID.get(),this._matrix=new createjs.Matrix2D},e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},e.draw=function(t,e){var i=this.cacheCanvas;if(e||!i)return!1;var n=this._cacheScale;return t.drawImage(i,this._cacheOffsetX,this._cacheOffsetY,i.width/n,i.height/n),!0},e.updateContext=function(t){var e,i=this.mask,n=this;i&&i.graphics&&!i.graphics.isEmpty()&&(e=i.getMatrix(i._matrix),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),i.graphics.drawAsPath(t),t.clip(),e.invert(),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),e=n._matrix.identity().appendTransform(n.x,n.y,n.scaleX,n.scaleY,n.rotation,n.skewX,n.skewY,n.regX,n.regY),createjs.Stage._snapToPixelEnabled&&n.snapToPixel?t.transform(e.a,e.b,e.c,e.d,0|e.tx+.5,0|e.ty+.5):t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),t.globalAlpha*=n.alpha,n.compositeOperation&&(t.globalCompositeOperation=n.compositeOperation),n.shadow&&this._applyShadow(t,n.shadow)},e.cache=function(t,e,i,n,s){s=s||1,this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),this.cacheCanvas.width=Math.ceil(i*s),this.cacheCanvas.height=Math.ceil(n*s),this._cacheOffsetX=t,this._cacheOffsetY=e,this._cacheScale=s||1,this.updateCache()},e.updateCache=function(e){var i=this.cacheCanvas,n=this._cacheScale,s=this._cacheOffsetX*n,r=this._cacheOffsetY*n;if(!i)throw"cache() must be called before updateCache()";var a=i.getContext("2d");a.save(),e||a.clearRect(0,0,i.width+1,i.height+1),a.globalCompositeOperation=e,a.setTransform(n,0,0,n,-s,-r),this.draw(a,!0),this._applyFilters(),a.restore(),this.cacheID=t._nextCacheID++},e.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=0,this._cacheScale=1},e.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},e.getStage=function(){for(var t=this;t.parent;)t=t.parent;return t instanceof createjs.Stage?t:null},e.localToGlobal=function(t,e){var i=this.getConcatenatedMatrix(this._matrix);return null==i?null:(i.append(1,0,0,1,t,e),new createjs.Point(i.tx,i.ty))},e.globalToLocal=function(t,e){var i=this.getConcatenatedMatrix(this._matrix);return null==i?null:(i.invert(),i.append(1,0,0,1,t,e),new createjs.Point(i.tx,i.ty))},e.localToLocal=function(t,e,i){var n=this.localToGlobal(t,e);return i.globalToLocal(n.x,n.y)},e.setTransform=function(t,e,i,n,s,r,a,o,h){return this.x=t||0,this.y=e||0,this.scaleX=null==i?1:i,this.scaleY=null==n?1:n,this.rotation=s||0,this.skewX=r||0,this.skewY=a||0,this.regX=o||0,this.regY=h||0,this},e.getMatrix=function(t){var e=this;return(t?t.identity():new createjs.Matrix2D).appendTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY).appendProperties(e.alpha,e.shadow,e.compositeOperation)},e.getConcatenatedMatrix=function(t){t?t.identity():t=new createjs.Matrix2D;for(var e=this;null!=e;)t.prependTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY).prependProperties(e.alpha,e.shadow,e.compositeOperation),e=e.parent;return t},e.hitTest=function(e,i){var n=t._hitTestContext;n.setTransform(1,0,0,1,-e,-i),this.draw(n);var s=this._testHit(n);return n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,2,2),s},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.clone=function(){var e=new t;return this.cloneProps(e),e},e.toString=function(){return"[DisplayObject (name="+this.name+")]"},e.cloneProps=function(t){t.alpha=this.alpha,t.name=this.name,t.regX=this.regX,t.regY=this.regY,t.rotation=this.rotation,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.shadow=this.shadow,t.skewX=this.skewX,t.skewY=this.skewY,t.visible=this.visible,t.x=this.x,t.y=this.y,t.mouseEnabled=this.mouseEnabled,t.compositeOperation=this.compositeOperation,this.cacheCanvas&&(t.cacheCanvas=this.cacheCanvas.cloneNode(!0),t.cacheCanvas.getContext("2d").putImageData(this.cacheCanvas.getContext("2d").getImageData(0,0,this.cacheCanvas.width,this.cacheCanvas.height),0,0))},e._applyShadow=function(t,e){e=e||Shadow.identity,t.shadowColor=e.color,t.shadowOffsetX=e.offsetX,t.shadowOffsetY=e.offsetY,t.shadowBlur=e.blur},e._tick=function(t){this.onTick&&this.onTick.apply(this,t);var e=this._listeners;
e&&e.tick&&this.dispatchEvent({type:"tick",params:t})},e._testHit=function(e){try{var i=e.getImageData(0,0,1,1).data[3]>1}catch(n){if(!t.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return i},e._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var t=this.filters.length,e=this.cacheCanvas.getContext("2d"),i=this.cacheCanvas.width,n=this.cacheCanvas.height,s=0;t>s;s++)this.filters[s].applyFilter(e,0,0,i,n)},e._hasMouseHandler=function(t){var e=this._listeners;return!!(1&t&&(this.onPress||this.onClick||this.onDoubleClick||e&&(this.hasEventListener("mousedown")||this.hasEventListener("click")||this.hasEventListener("dblclick")))||2&t&&(this.onMouseOver||this.onMouseOut||this.cursor||e&&(this.hasEventListener("mouseover")||this.hasEventListener("mouseout"))))},createjs.DisplayObject=t}(),this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},e=t.prototype=new createjs.DisplayObject;e.children=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(){this.DisplayObject_initialize(),this.children=[]},e.isVisible=function(){var t=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.DisplayObject_draw=e.draw,e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;for(var i=this.children.slice(0),n=0,s=i.length;s>n;n++){var r=i[n];r.isVisible()&&(t.save(),r.updateContext(t),r.draw(t),t.restore())}return!0},e.addChild=function(t){if(null==t)return t;var e=arguments.length;if(e>1){for(var i=0;e>i;i++)this.addChild(arguments[i]);return arguments[e-1]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.push(t),t},e.addChildAt=function(t,e){var i=arguments.length,n=arguments[i-1];if(0>n||n>this.children.length)return arguments[i-2];if(i>2){for(var s=0;i-1>s;s++)this.addChildAt(arguments[s],n+s);return arguments[i-2]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),t},e.removeChild=function(t){var e=arguments.length;if(e>1){for(var i=!0,n=0;e>n;n++)i=i&&this.removeChild(arguments[n]);return i}return this.removeChildAt(this.children.indexOf(t))},e.removeChildAt=function(t){var e=arguments.length;if(e>1){for(var i=[],n=0;e>n;n++)i[n]=arguments[n];i.sort(function(t,e){return e-t});for(var s=!0,n=0;e>n;n++)s=s&&this.removeChildAt(i[n]);return s}if(0>t||t>this.children.length-1)return!1;var r=this.children[t];return r&&(r.parent=null),this.children.splice(t,1),!0},e.removeAllChildren=function(){for(var t=this.children;t.length;)t.pop().parent=null},e.getChildAt=function(t){return this.children[t]},e.getChildByName=function(t){for(var e=this.children,i=0,n=e.length;n>i;i++)if(e[i].name==t)return e[i];return null},e.sortChildren=function(t){this.children.sort(t)},e.getChildIndex=function(t){return this.children.indexOf(t)},e.getNumChildren=function(){return this.children.length},e.swapChildrenAt=function(t,e){var i=this.children,n=i[t],s=i[e];n&&s&&(i[t]=s,i[e]=n)},e.swapChildren=function(t,e){for(var i,n,s=this.children,r=0,a=s.length;a>r&&(s[r]==t&&(i=r),s[r]==e&&(n=r),null==i||null==n);r++);r!=a&&(s[i]=e,s[n]=t)},e.setChildIndex=function(t,e){var i=this.children,n=i.length;if(!(t.parent!=this||0>e||e>=n)){for(var s=0;n>s&&i[s]!=t;s++);s!=n&&s!=e&&(i.splice(s,1),s>e&&e--,i.splice(e,0,t))}},e.contains=function(t){for(;t;){if(t==this)return!0;t=t.parent}return!1},e.hitTest=function(t,e){return null!=this.getObjectUnderPoint(t,e)},e.getObjectsUnderPoint=function(t,e){var i=[],n=this.localToGlobal(t,e);return this._getObjectsUnderPoint(n.x,n.y,i),i},e.getObjectUnderPoint=function(t,e){var i=this.localToGlobal(t,e);return this._getObjectsUnderPoint(i.x,i.y)},e.clone=function(e){var i=new t;if(this.cloneProps(i),e)for(var n=i.children=[],s=0,r=this.children.length;r>s;s++){var a=this.children[s].clone(e);a.parent=i,n.push(a)}return i},e.toString=function(){return"[Container (name="+this.name+")]"},e.DisplayObject__tick=e._tick,e._tick=function(t){for(var e=this.children.length-1;e>=0;e--){var i=this.children[e];i._tick&&i._tick(t)}this.DisplayObject__tick(t)},e._getObjectsUnderPoint=function(e,i,n,s){var r=createjs.DisplayObject._hitTestContext,a=this._matrix,o=this._hasMouseHandler(s);if(!this.hitArea&&this.cacheCanvas&&o&&(this.getConcatenatedMatrix(a),r.setTransform(a.a,a.b,a.c,a.d,a.tx-e,a.ty-i),r.globalAlpha=a.alpha,this.draw(r),this._testHit(r)))return r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,2,2),this;for(var h=this.children.length,l=h-1;l>=0;l--){var c=this.children[l],u=c.hitArea;if(c.visible&&(u||c.isVisible())&&(!s||c.mouseEnabled)){var d=s&&c._hasMouseHandler(s);if(!(c instanceof t)||u&&d){if(!s||o||d){if(c.getConcatenatedMatrix(a),u&&(a.appendTransform(u.x,u.y,u.scaleX,u.scaleY,u.rotation,u.skewX,u.skewY,u.regX,u.regY),a.alpha=u.alpha),r.globalAlpha=a.alpha,r.setTransform(a.a,a.b,a.c,a.d,a.tx-e,a.ty-i),(u||c).draw(r),!this._testHit(r))continue;if(r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,2,2),o)return this;if(!n)return c;n.push(c)}}else{var f;if(o){if(f=c._getObjectsUnderPoint(e,i))return this}else if(f=c._getObjectsUnderPoint(e,i,n,s),!n&&f)return f}}}return null},createjs.Container=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.Container;t._snapToPixelEnabled=!1,e.autoClear=!0,e.canvas=null,e.mouseX=0,e.mouseY=0,e.onMouseMove=null,e.onMouseUp=null,e.onMouseDown=null,e.snapToPixelEnabled=!1,e.mouseInBounds=!1,e.tickOnUpdate=!0,e.mouseMoveOutside=!1,e._pointerData=null,e._pointerCount=0,e._primaryPointerID=null,e._mouseOverIntervalID=null,e.Container_initialize=e.initialize,e.initialize=function(t){this.Container_initialize(),this.canvas="string"==typeof t?document.getElementById(t):t,this._pointerData={},this.enableDOMEvents(!0)},e.update=function(){if(this.canvas){this.autoClear&&this.clear(),t._snapToPixelEnabled=this.snapToPixelEnabled,this.tickOnUpdate&&this._tick(arguments.length?arguments:null);var e=this.canvas.getContext("2d");e.save(),this.updateContext(e),this.draw(e,!1),e.restore()}},e.tick=e.update,e.handleEvent=function(t){"tick"==t.type&&this.update(t)},e.clear=function(){if(this.canvas){var t=this.canvas.getContext("2d");t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},e.toDataURL=function(t,e){e||(e="image/png");var i,n=this.canvas.getContext("2d"),s=this.canvas.width,r=this.canvas.height;if(t){i=n.getImageData(0,0,s,r);var a=n.globalCompositeOperation;n.globalCompositeOperation="destination-over",n.fillStyle=t,n.fillRect(0,0,s,r)}var o=this.canvas.toDataURL(e);return t&&(n.clearRect(0,0,s+1,r+1),n.putImageData(i,0,0),n.globalCompositeOperation=a),o},e.enableMouseOver=function(t){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null),null==t)t=20;else if(0>=t)return;var e=this;this._mouseOverIntervalID=setInterval(function(){e._testMouseOver()},1e3/Math.min(50,t))},e.enableDOMEvents=function(t){null==t&&(t=!0);var e,i,n=this._eventListeners;if(!t&&n){for(e in n)i=n[e],i.t.removeEventListener(e,i.f);this._eventListeners=null}else if(t&&!n&&this.canvas){var s=window.addEventListener?window:document,r=this;n=this._eventListeners={},n.mouseup={t:s,f:function(t){r._handleMouseUp(t)}},n.mousemove={t:s,f:function(t){r._handleMouseMove(t)}},n.dblclick={t:s,f:function(t){r._handleDoubleClick(t)}},n.mousedown={t:this.canvas,f:function(t){r._handleMouseDown(t)}};for(e in n)i=n[e],i.t.addEventListener(e,i.f)}},e.clone=function(){var e=new t(null);return this.cloneProps(e),e},e.toString=function(){return"[Stage (name="+this.name+")]"},e._getPointerData=function(t){var e=this._pointerData[t];return e||(e=this._pointerData[t]={x:0,y:0},(null==this._primaryPointerID||-1==this._primaryPointerID)&&(this._primaryPointerID=t)),e},e._handleMouseMove=function(t){t||(t=window.event),this._handlePointerMove(-1,t,t.pageX,t.pageY)},e._handlePointerMove=function(t,e,i,n){if(this.canvas){var s,r=this._getPointerData(t),a=r.inBounds;if(this._updatePointerPosition(t,i,n),a||r.inBounds||this.mouseMoveOutside){(this.onMouseMove||this.hasEventListener("stagemousemove"))&&(s=new createjs.MouseEvent("stagemousemove",r.x,r.y,this,e,t,t==this._primaryPointerID,r.rawX,r.rawY),this.onMouseMove&&this.onMouseMove(s),this.dispatchEvent(s));var o=r.event;o&&(o.onMouseMove||o.hasEventListener("mousemove"))&&(s=new createjs.MouseEvent("mousemove",r.x,r.y,o.target,e,t,t==this._primaryPointerID,r.rawX,r.rawY),o.onMouseMove&&o.onMouseMove(s),o.dispatchEvent(s,o.target))}}},e._updatePointerPosition=function(t,e,i){var n=this._getElementRect(this.canvas);e-=n.left,i-=n.top;var s=this.canvas.width,r=this.canvas.height;e/=(n.right-n.left)/s,i/=(n.bottom-n.top)/r;var a=this._getPointerData(t);(a.inBounds=e>=0&&i>=0&&s-1>=e&&r-1>=i)?(a.x=e,a.y=i):this.mouseMoveOutside&&(a.x=0>e?0:e>s-1?s-1:e,a.y=0>i?0:i>r-1?r-1:i),a.rawX=e,a.rawY=i,t==this._primaryPointerID&&(this.mouseX=a.x,this.mouseY=a.y,this.mouseInBounds=a.inBounds)},e._getElementRect=function(t){var e;try{e=t.getBoundingClientRect()}catch(i){e={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}var n=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),s=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),r=window.getComputedStyle?getComputedStyle(t):t.currentStyle,a=parseInt(r.paddingLeft)+parseInt(r.borderLeftWidth),o=parseInt(r.paddingTop)+parseInt(r.borderTopWidth),h=parseInt(r.paddingRight)+parseInt(r.borderRightWidth),l=parseInt(r.paddingBottom)+parseInt(r.borderBottomWidth);return{left:e.left+n+a,right:e.right+n-h,top:e.top+s+o,bottom:e.bottom+s-l}},e._handleMouseUp=function(t){this._handlePointerUp(-1,t,!1)},e._handlePointerUp=function(t,e,i){var n,s=this._getPointerData(t);(this.onMouseMove||this.hasEventListener("stagemouseup"))&&(n=new createjs.MouseEvent("stagemouseup",s.x,s.y,this,e,t,t==this._primaryPointerID,s.rawX,s.rawY),this.onMouseUp&&this.onMouseUp(n),this.dispatchEvent(n));var r=s.event;r&&(r.onMouseUp||r.hasEventListener("mouseup"))&&(n=new createjs.MouseEvent("mouseup",s.x,s.y,r.target,e,t,t==this._primaryPointerID,s.rawX,s.rawY),r.onMouseUp&&r.onMouseUp(n),r.dispatchEvent(n,r.target));var a=s.target;a&&(a.onClick||a.hasEventListener("click"))&&this._getObjectsUnderPoint(s.x,s.y,null,!0,this._mouseOverIntervalID?3:1)==a&&(n=new createjs.MouseEvent("click",s.x,s.y,a,e,t,t==this._primaryPointerID,s.rawX,s.rawY),a.onClick&&a.onClick(n),a.dispatchEvent(n)),i?(t==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[t]):s.event=s.target=null},e._handleMouseDown=function(t){this._handlePointerDown(-1,t,!1)},e._handlePointerDown=function(t,e,i,n){var s=this._getPointerData(t);if(null!=n&&this._updatePointerPosition(t,i,n),this.onMouseDown||this.hasEventListener("stagemousedown")){var r=new createjs.MouseEvent("stagemousedown",s.x,s.y,this,e,t,t==this._primaryPointerID,s.rawX,s.rawY);this.onMouseDown&&this.onMouseDown(r),this.dispatchEvent(r)}var a=this._getObjectsUnderPoint(s.x,s.y,null,this._mouseOverIntervalID?3:1);a&&(s.target=a,(a.onPress||a.hasEventListener("mousedown"))&&(r=new createjs.MouseEvent("mousedown",s.x,s.y,a,e,t,t==this._primaryPointerID,s.rawX,s.rawY),a.onPress&&a.onPress(r),a.dispatchEvent(r),(r.onMouseMove||r.onMouseUp||r.hasEventListener("mousemove")||r.hasEventListener("mouseup"))&&(s.event=r)))},e._testMouseOver=function(){if(-1==this._primaryPointerID&&(this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var t=null;this.mouseInBounds&&(t=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,3),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var e=this._mouseOverTarget;if(e!=t){var i=this._getPointerData(-1);if(e&&(e.onMouseOut||e.hasEventListener("mouseout"))){var n=new createjs.MouseEvent("mouseout",i.x,i.y,e,null,-1,i.rawX,i.rawY);e.onMouseOut&&e.onMouseOut(n),e.dispatchEvent(n)}e&&(this.canvas.style.cursor=""),t&&(t.onMouseOver||t.hasEventListener("mouseover"))&&(n=new createjs.MouseEvent("mouseover",i.x,i.y,t,null,-1,i.rawX,i.rawY),t.onMouseOver&&t.onMouseOver(n),t.dispatchEvent(n)),t&&(this.canvas.style.cursor=t.cursor||""),this._mouseOverTarget=t}}},e._handleDoubleClick=function(t){var e=this._getPointerData(-1),i=this._getObjectsUnderPoint(e.x,e.y,null,this._mouseOverIntervalID?3:1);i&&(i.onDoubleClick||i.hasEventListener("dblclick"))&&(evt=new createjs.MouseEvent("dblclick",e.x,e.y,i,t,-1,!0,e.rawX,e.rawY),i.onDoubleClick&&i.onDoubleClick(evt),i.dispatchEvent(evt))},createjs.Stage=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.DisplayObject;e.image=null,e.snapToPixel=!0,e.sourceRect=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(t){this.DisplayObject_initialize(),"string"==typeof t?(this.image=new Image,this.image.src=t):this.image=t},e.isVisible=function(){var t=this.cacheCanvas||this.image&&(this.image.complete||this.image.getContext||this.image.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.DisplayObject_draw=e.draw,e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;var i=this.sourceRect;return i?t.drawImage(this.image,i.x,i.y,i.width,i.height,0,0,i.width,i.height):t.drawImage(this.image,0,0),!0},e.clone=function(){var e=new t(this.image);return this.sourceRect&&(e.sourceRect=this.sourceRect.clone()),this.cloneProps(e),e},e.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.DisplayObject;e.onAnimationEnd=null,e.currentFrame=-1,e.currentAnimation=null,e.paused=!0,e.spriteSheet=null,e.snapToPixel=!0,e.offset=0,e.currentAnimationFrame=0,e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e._advanceCount=0,e._animation=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(t){this.DisplayObject_initialize(),this.spriteSheet=t},e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet.complete&&this.currentFrame>=0;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.DisplayObject_draw=e.draw,e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;this._normalizeFrame();var i=this.spriteSheet.getFrame(this.currentFrame);if(i){var n=i.rect;return t.drawImage(i.image,n.x,n.y,n.width,n.height,-i.regX,-i.regY,n.width,n.height),!0}},e.play=function(){this.paused=!1},e.stop=function(){this.paused=!0},e.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.advance=function(){this._animation?this.currentAnimationFrame++:this.currentFrame++,this._normalizeFrame()},e.getBounds=function(){return this.spriteSheet.getFrameBounds(this.currentFrame)},e.clone=function(){var e=new t(this.spriteSheet);return this.cloneProps(e),e},e.toString=function(){return"[BitmapAnimation (name="+this.name+")]"},e.DisplayObject__tick=e._tick,e._tick=function(t){var e=this._animation?this._animation.frequency:1;this.paused||0!=(++this._advanceCount+this.offset)%e||this.advance(),this.DisplayObject__tick(t)},e._normalizeFrame=function(){var t,e=this._animation,i=this.currentFrame,n=this.paused;if(e)if(t=e.frames.length,this.currentAnimationFrame>=t){var s=e.next;this._dispatchAnimationEnd(e,i,n,s,t-1)||(s?this._goto(s):(this.paused=!0,this.currentAnimationFrame=e.frames.length-1,this.currentFrame=e.frames[this.currentAnimationFrame]))}else this.currentFrame=e.frames[this.currentAnimationFrame];else t=this.spriteSheet.getNumFrames(),i>=t&&(this._dispatchAnimationEnd(e,i,n,t-1)||(this.currentFrame=0))},e._dispatchAnimationEnd=function(t,e,i,n,s){var r=t?t.name:null;return this.onAnimationEnd&&this.onAnimationEnd(this,r,n),this.dispatchEvent({type:"animationend",name:r,next:n}),!i&&this.paused&&(this.currentAnimationFrame=s),this.paused!=i||this._animation!=t||this.currentFrame!=e},e.DisplayObject_cloneProps=e.cloneProps,e.cloneProps=function(t){this.DisplayObject_cloneProps(t),t.onAnimationEnd=this.onAnimationEnd,t.currentFrame=this.currentFrame,t.currentAnimation=this.currentAnimation,t.paused=this.paused,t.offset=this.offset,t._animation=this._animation,t.currentAnimationFrame=this.currentAnimationFrame},e._goto=function(t){if(isNaN(t)){var e=this.spriteSheet.getAnimation(t);e&&(this.currentAnimationFrame=0,this._animation=e,this.currentAnimation=t,this._normalizeFrame())}else this.currentAnimation=this._animation=null,this.currentFrame=t},createjs.BitmapAnimation=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.DisplayObject;e.graphics=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(t){this.DisplayObject_initialize(),this.graphics=t?t:new createjs.Graphics},e.isVisible=function(){var t=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.DisplayObject_draw=e.draw,e.draw=function(t,e){return this.DisplayObject_draw(t,e)?!0:(this.graphics.draw(t),!0)},e.clone=function(e){var i=new t(e&&this.graphics?this.graphics.clone():this.graphics);return this.cloneProps(i),i},e.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i){this.initialize(t,e,i)},e=t.prototype=new createjs.DisplayObject;t._workingContext=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).getContext("2d"),e.text="",e.font=null,e.color="#000",e.textAlign="left",e.textBaseline="top",e.maxWidth=null,e.outline=!1,e.lineHeight=0,e.lineWidth=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(t,e,i){this.DisplayObject_initialize(),this.text=t,this.font=e,this.color=i?i:"#000"},e.isVisible=function(){var t=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.DisplayObject_draw=e.draw,e.draw=function(t,e){return this.DisplayObject_draw(t,e)?!0:(this.outline?t.strokeStyle=this.color:t.fillStyle=this.color,t.font=this.font,t.textAlign=this.textAlign||"start",t.textBaseline=this.textBaseline||"alphabetic",this._drawText(t),!0)},e.getMeasuredWidth=function(){return this._getWorkingContext().measureText(this.text).width},e.getMeasuredLineHeight=function(){return 1.2*this._getWorkingContext().measureText("M").width},e.getMeasuredHeight=function(){return this._drawText()*(this.lineHeight||this.getMeasuredLineHeight())},e.clone=function(){var e=new t(this.text,this.font,this.color);return this.cloneProps(e),e},e.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},e.DisplayObject_cloneProps=e.cloneProps,e.cloneProps=function(t){this.DisplayObject_cloneProps(t),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.maxWidth=this.maxWidth,t.outline=this.outline,t.lineHeight=this.lineHeight,t.lineWidth=this.lineWidth},e._getWorkingContext=function(){var e=t._workingContext;return e.font=this.font,e.textAlign=this.textAlign||"start",e.textBaseline=this.textBaseline||"alphabetic",e},e._drawText=function(t){var e=!!t;e||(t=this._getWorkingContext());for(var i=(this.text+"").split(/(?:\r\n|\r|\n)/),n=this.lineHeight||this.getMeasuredLineHeight(),s=0,r=0,a=i.length;a>r;r++){var o=t.measureText(i[r]).width;if(null==this.lineWidth||this.lineWidth>o)e&&this._drawTextLine(t,i[r],s*n),s++;else{for(var h=i[r].split(/(\s)/),l=h[0],c=1,u=h.length;u>c;c+=2)t.measureText(l+h[c]+h[c+1]).width>this.lineWidth?(e&&this._drawTextLine(t,l,s*n),s++,l=h[c+1]):l+=h[c]+h[c+1];e&&this._drawTextLine(t,l,s*n),s++}}return s},e._drawTextLine=function(t,e,i){this.outline?t.strokeText(e,0,i,this.maxWidth||65535):t.fillText(e,0,i,this.maxWidth||65535)},createjs.Text=t}(),this.createjs=this.createjs||{},function(){var t=function(){throw"SpriteSheetUtils cannot be instantiated"};t._workingCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),t._workingContext=t._workingCanvas.getContext("2d"),t.addFlippedFrames=function(e,i,n,s){if(i||n||s){var r=0;i&&t._flip(e,++r,!0,!1),n&&t._flip(e,++r,!1,!0),s&&t._flip(e,++r,!0,!0)}},t.extractFrame=function(e,i){isNaN(i)&&(i=e.getAnimation(i).frames[0]);var n=e.getFrame(i);if(!n)return null;var s=n.rect,r=t._workingCanvas;r.width=s.width,r.height=s.height,t._workingContext.drawImage(n.image,s.x,s.y,s.width,s.height,0,0,s.width,s.height);var a=new Image;return a.src=r.toDataURL("image/png"),a},t.mergeAlpha=function(t,e,i){i||(i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),i.width=Math.max(e.width,t.width),i.height=Math.max(e.height,t.height);var n=i.getContext("2d");return n.save(),n.drawImage(t,0,0),n.globalCompositeOperation="destination-in",n.drawImage(e,0,0),n.restore(),i},t._flip=function(e,i,n,s){for(var r=e._images,a=t._workingCanvas,o=t._workingContext,h=r.length/i,l=0;h>l;l++){var c=r[l];c.__tmp=l,o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,a.width+1,a.height+1),a.width=c.width,a.height=c.height,o.setTransform(n?-1:1,0,0,s?-1:1,n?c.width:0,s?c.height:0),o.drawImage(c,0,0);var u=new Image;u.src=a.toDataURL("image/png"),u.width=c.width,u.height=c.height,r.push(u)}var d=e._frames,f=d.length/i;for(l=0;f>l;l++){c=d[l];var p=c.rect.clone();u=r[c.image.__tmp+h*i];var _={image:u,rect:p,regX:c.regX,regY:c.regY};n&&(p.x=u.width-p.x-p.width,_.regX=p.width-c.regX),s&&(p.y=u.height-p.y-p.height,_.regY=p.height-c.regY),d.push(_)}var m="_"+(n?"h":"")+(s?"v":""),v=e._animations,g=e._data,y=v.length/i;for(l=0;y>l;l++){var w=v[l];c=g[w];var x={name:w+m,frequency:c.frequency,next:c.next,frames:[]};c.next&&(x.next+=m),d=c.frames;for(var E=0,j=d.length;j>E;E++)x.frames.push(d[E]+f*i);g[x.name]=x,v.push(x.name)}},createjs.SpriteSheetUtils=t}(),this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},e=t.prototype;t.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",t.ERR_RUNNING="a build is already running",e.maxWidth=2048,e.maxHeight=2048,e.spriteSheet=null,e.scale=1,e.padding=1,e.timeSlice=.3,e.progress=-1,e.onComplete=null,e.onProgress=null,e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e._frames=null,e._animations=null,e._data=null,e._nextFrameIndex=0,e._index=0,e._timerID=null,e._scale=1,e.initialize=function(){this._frames=[],this._animations={}},e.addFrame=function(e,i,n,s,r,a){if(this._data)throw t.ERR_RUNNING;var o=i||e.bounds||e.nominalBounds;return!o&&e.getBounds&&(o=e.getBounds()),o?(n=n||1,this._frames.push({source:e,sourceRect:o,scale:n,funct:s,params:r,scope:a,index:this._frames.length,height:o.height*n})-1):null},e.addAnimation=function(e,i,n,s){if(this._data)throw t.ERR_RUNNING;this._animations[e]={frames:i,next:n,frequency:s}},e.addMovieClip=function(e,i,n){if(this._data)throw t.ERR_RUNNING;var s=e.frameBounds,r=i||e.bounds||e.nominalBounds;if(!r&&e.getBounds&&(r=e.getBounds()),!r&&!s)return null;for(var a=this._frames.length,o=e.timeline.duration,h=0;o>h;h++){var l=s&&s[h]?s[h]:r;this.addFrame(e,l,n,function(t){var e=this.actionsEnabled;this.actionsEnabled=!1,this.gotoAndStop(t),this.actionsEnabled=e},[h],e)}var c=e.timeline._labels,u=[];for(var d in c)u.push({index:c[d],label:d});if(u.length){u.sort(function(t,e){return t.index-e.index});for(var h=0,f=u.length;f>h;h++){for(var p=u[h].label,_=a+u[h].index,m=a+(h==f-1?o:u[h+1].index),v=[],g=_;m>g;g++)v.push(g);this.addAnimation(p,v,!0)}}},e.build=function(){if(this._data)throw t.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},e.buildAsync=function(e){if(this._data)throw t.ERR_RUNNING;this.timeSlice=e,this._startBuild();var i=this;this._timerID=setTimeout(function(){i._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},e.stopAsync=function(){clearTimeout(this._timerID),this._data=null},e.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},e.toString=function(){return"[SpriteSheetBuilder]"},e._startBuild=function(){var e=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var i=[];this._data={images:[],frames:i,animations:this._animations};var n=this._frames.slice();if(n.sort(function(t,e){return t.height<=e.height?-1:1}),n[n.length-1].height+2*e>this.maxHeight)throw t.ERR_DIMENSIONS;for(var s=0,r=0,a=0;n.length;){var o=this._fillRow(n,s,a,i,e);if(o.w>r&&(r=o.w),s+=o.h,!o.h||!n.length){var h=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");h.width=this._getSize(r,this.maxWidth),h.height=this._getSize(s,this.maxHeight),this._data.images[a]=h,o.h||(r=s=0,a++)}}},e._getSize=function(t,e){for(var i=4;t>Math.pow(2,++i););return Math.min(e,Math.pow(2,i))},e._fillRow=function(e,i,n,s,r){var a=this.maxWidth,o=this.maxHeight;i+=r;for(var h=o-i,l=r,c=0,u=e.length-1;u>=0;u--){var d=e[u],f=this._scale*d.scale,p=d.sourceRect,_=d.source,m=Math.floor(f*p.x-r),v=Math.floor(f*p.y-r),g=Math.ceil(f*p.height+2*r),y=Math.ceil(f*p.width+2*r);if(y>a)throw t.ERR_DIMENSIONS;g>h||l+y>a||(d.img=n,d.rect=new createjs.Rectangle(l,i,y,g),c=c||g,e.splice(u,1),s[d.index]=[l,i,y,g,n,Math.round(-m+f*_.regX-r),Math.round(-v+f*_.regY-r)],l+=y)}return{w:l,h:c}},e._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.onComplete&&this.onComplete(this),this.dispatchEvent("complete")},e._run=function(){for(var t=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),e=(new Date).getTime()+t,i=!1;e>(new Date).getTime();)if(!this._drawNext()){i=!0;break}if(i)this._endBuild();else{var n=this;this._timerID=setTimeout(function(){n._run()},50-t)}var s=this.progress=this._index/this._frames.length;this.onProgress&&this.onProgress(this,s),this.dispatchEvent({type:"progress",progress:s})},e._drawNext=function(){var t=this._frames[this._index],e=t.scale*this._scale,i=t.rect,n=t.sourceRect,s=this._data.images[t.img],r=s.getContext("2d");return t.funct&&t.funct.apply(t.scope,t.params),r.save(),r.beginPath(),r.rect(i.x,i.y,i.width,i.height),r.clip(),r.translate(Math.ceil(i.x-n.x*e),Math.ceil(i.y-n.y*e)),r.scale(e,e),t.source.draw(r),r.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.DisplayObject;e.htmlElement=null,e._oldMtx=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(t){"string"==typeof t&&(t=document.getElementById(t)),this.DisplayObject_initialize(),this.mouseEnabled=!1,this.htmlElement=t;var e=t.style;e.position="absolute",e.transformOrigin=e.WebkitTransformOrigin=e.msTransformOrigin=e.MozTransformOrigin=e.OTransformOrigin="0% 0%"},e.isVisible=function(){return null!=this.htmlElement},e.draw=function(){if(null!=this.htmlElement){var t=this.getConcatenatedMatrix(this._matrix),e=this.htmlElement,i=e.style;if(!this.visible)return!0;i.visibility="visible";var n=this._oldMtx||{};return n.alpha!=t.alpha&&(i.opacity=""+t.alpha,n.alpha=t.alpha),(n.tx!=t.tx||n.ty!=t.ty||n.a!=t.a||n.b!=t.b||n.c!=t.c||n.d!=t.d)&&(i.transform=i.WebkitTransform=i.OTransform=i.msTransform=["matrix("+t.a,t.b,t.c,t.d,0|t.tx+.5,(0|t.ty+.5)+")"].join(","),i.MozTransform=["matrix("+t.a,t.b,t.c,t.d,(0|t.tx+.5)+"px",(0|t.ty+.5)+"px)"].join(","),this._oldMtx=t.clone()),!0}},e.cache=function(){},e.uncache=function(){},e.updateCache=function(){},e.hitTest=function(){},e.localToGlobal=function(){},e.globalToLocal=function(){},e.localToLocal=function(){},e.clone=function(){throw"DOMElement cannot be cloned."},e.toString=function(){return"[DOMElement (name="+this.name+")]"},e.DisplayObject__tick=e._tick,e._tick=function(t){this.htmlElement.style.visibility="hidden",this.DisplayObject__tick(t)},createjs.DOMElement=t}(),this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},e=t.prototype;e.initialize=function(){},e.getBounds=function(){return new createjs.Rectangle(0,0,0,0)},e.applyFilter=function(){},e.toString=function(){return"[Filter]"},e.clone=function(){return new t},createjs.Filter=t}(),this.createjs=this.createjs||{},function(){var t=function(){throw"Touch cannot be instantiated"};t.isSupported=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled},t.enable=function(e,i,n){return e&&e.canvas&&t.isSupported()?(e.__touch={pointers:{},multitouch:!i,preventDefault:!n,count:0},"ontouchstart"in window?t._IOS_enable(e):window.navigator.msPointerEnabled&&t._IE_enable(e),!0):!1},t.disable=function(e){e&&("ontouchstart"in window?t._IOS_disable(e):window.navigator.msPointerEnabled&&t._IE_disable(e))},t._IOS_enable=function(e){var i=e.canvas,n=e.__touch.f=function(i){t._IOS_handleEvent(e,i)};i.addEventListener("touchstart",n,!1),i.addEventListener("touchmove",n,!1),i.addEventListener("touchend",n,!1),i.addEventListener("touchcancel",n,!1)},t._IOS_disable=function(t){var e=t.canvas;if(e){var i=t.__touch.f;e.removeEventListener("touchstart",i,!1),e.removeEventListener("touchmove",i,!1),e.removeEventListener("touchend",i,!1),e.removeEventListener("touchcancel",i,!1)}},t._IOS_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();for(var i=e.changedTouches,n=e.type,s=0,r=i.length;r>s;s++){var a=i[s],o=a.identifier;a.target==t.canvas&&("touchstart"==n?this._handleStart(t,o,e,a.pageX,a.pageY):"touchmove"==n?this._handleMove(t,o,e,a.pageX,a.pageY):("touchend"==n||"touchcancel"==n)&&this._handleEnd(t,o,e))}}},t._IE_enable=function(e){var i=e.canvas,n=e.__touch.f=function(i){t._IE_handleEvent(e,i)};i.addEventListener("MSPointerDown",n,!1),window.addEventListener("MSPointerMove",n,!1),window.addEventListener("MSPointerUp",n,!1),window.addEventListener("MSPointerCancel",n,!1),e.__touch.preventDefault&&(i.style.msTouchAction="none"),e.__touch.activeIDs={}},t._IE_disable=function(t){var e=t.__touch.f;window.removeEventListener("MSPointerMove",e,!1),window.removeEventListener("MSPointerUp",e,!1),window.removeEventListener("MSPointerCancel",e,!1),t.canvas&&t.canvas.removeEventListener("MSPointerDown",e,!1)},t._IE_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();var i=e.type,n=e.pointerId,s=t.__touch.activeIDs;if("MSPointerDown"==i){if(e.srcElement!=t.canvas)return;s[n]=!0,this._handleStart(t,n,e,e.pageX,e.pageY)}else s[n]&&("MSPointerMove"==i?this._handleMove(t,n,e,e.pageX,e.pageY):("MSPointerUp"==i||"MSPointerCancel"==i)&&(delete s[n],this._handleEnd(t,n,e)))}},t._handleStart=function(t,e,i,n,s){var r=t.__touch;if(r.multitouch||!r.count){var a=r.pointers;a[e]||(a[e]=!0,r.count++,t._handlePointerDown(e,i,n,s))}},t._handleMove=function(t,e,i,n,s){t.__touch.pointers[e]&&t._handlePointerMove(e,i,n,s)},t._handleEnd=function(t,e,i){var n=t.__touch,s=n.pointers;s[e]&&(n.count--,t._handlePointerUp(e,i,!0),delete s[e])},createjs.Touch=t}(),function(){var t=this.createjs=this.createjs||{};t=t.EaselJS=t.EaselJS||{},t.version="0.6.1",t.buildDate="Thu, 16 May 2013 16:05:45 GMT"}(),function(){var t=this.createjs=this.createjs||{};t=t.PreloadJS=t.PreloadJS||{},t.version="NEXT",t.buildDate="Tue, 19 Mar 2013 22:13:32 GMT"}(),this.createjs=this.createjs||{},function(){var t=function(){this.init()};t.prototype={};var e=t.prototype,i=t;i.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,e.loaded=!1,e.canceled=!1,e.progress=0,e._item=null,e.onProgress=null,e.onLoadStart=null,e.onComplete=null,e.onError=null,e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e.getItem=function(){return this._item
},e.init=function(){},e.load=function(){},e.close=function(){},e._sendLoadStart=function(){this._isCanceled()||(this.onLoadStart&&this.onLoadStart({target:this}),this.dispatchEvent("loadStart"))},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e={loaded:this.progress,total:1}):(e=t,this.progress=t.loaded/t.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0)),e.target=this,e.type="progress",this.onProgress&&this.onProgress(e),this.dispatchEvent(e)}},e._sendComplete=function(){this._isCanceled()||(this.onComplete&&this.onComplete({target:this}),this.dispatchEvent("complete"))},e._sendError=function(t){this._isCanceled()||(null==t&&(t={}),t.target=this,t.type="error",this.onError&&this.onError(t),this.dispatchEvent(t))},e._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},e._parseURI=function(t){return t?t.match(i.FILE_PATTERN):null},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.init(t)},e=t.prototype=new createjs.AbstractLoader,n=t;n.LOAD_TIMEOUT=8e3,n.BINARY="binary",n.CSS="css",n.IMAGE="image",n.JAVASCRIPT="javascript",n.JSON="json",n.SOUND="sound",n.SVG="svg",n.TEXT="text",n.XML="xml",e.useXHR=!0,e.stopOnError=!1,e.maintainScriptOrder=!0,e.next=null,e.onFileLoad=null,e.onFileProgress=null,e._typeCallbacks=null,e._extensionCallbacks=null,e._loadStartWasDispatched=!1,e._maxConnections=1,e._currentlyLoadingScript=null,e._currentLoads=null,e._loadQueue=null,e._loadQueueBackup=null,e._loadItemsById=null,e._loadItemsBySrc=null,e._loadedResults=null,e._loadedRawResults=null,e._numItems=0,e._numItemsLoaded=0,e._scriptOrder=null,e._loadedScripts=null,e.init=function(t){this._numItems=this._numItemsLoaded=0,this._paused=!1,this._loadStartWasDispatched=!1,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._scriptOrder=[],this._loadedScripts=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._typeCallbacks={},this._extensionCallbacks={},this.setUseXHR(t)},e.setUseXHR=function(t){return this.useXHR=0!=t&&null!=window.XMLHttpRequest,this.useXHR},e.removeAll=function(){this.remove()},e.remove=function(t){var e=null;!t||t instanceof Array?t&&(e=t):e=[t];var i=!1;if(e){for(;e.length;){var n=e.pop(),s=this.getResult(n);for(r=this._loadQueue.length-1;r>=0;r--)if(a=this._loadQueue[r].getItem(),a.id==n||a.src==n){this._loadQueue.splice(r,1)[0].cancel();break}for(r=this._loadQueueBackup.length-1;r>=0;r--)if(a=this._loadQueueBackup[r].getItem(),a.id==n||a.src==n){this._loadQueueBackup.splice(r,1)[0].cancel();break}if(s)delete this._loadItemsById[s.id],delete this._loadItemsBySrc[s.src],this._disposeItem(s);else for(var r=this._currentLoads.length-1;r>=0;r--){var a=this._currentLoads[r].getItem();if(a.id==n||a.src==n){this._currentLoads.splice(r,1)[0].cancel(),i=!0;break}}}i&&this._loadNext()}else{this.close();for(var o in this._loadItemsById)this._disposeItem(this._loadItemsById[o]);this.init(this.useXHR)}},e.reset=function(){this.close();for(var t in this._loadItemsById)this._disposeItem(this._loadItemsById[t]);var e=[];for(i=0,l=this._loadQueueBackup.length;l>i;i++)e.push(this._loadQueueBackup[i].getItem());this.loadManifest(e,!1)},n.isBinary=function(t){switch(t){case createjs.LoadQueue.IMAGE:case createjs.LoadQueue.BINARY:return!0;default:return!1}},e.installPlugin=function(t){if(null!=t&&null!=t.getPreloadHandlers){var e=t.getPreloadHandlers();if(null!=e.types)for(var i=0,n=e.types.length;n>i;i++)this._typeCallbacks[e.types[i]]=e.callback;if(null!=e.extensions)for(i=0,n=e.extensions.length;n>i;i++)this._extensionCallbacks[e.extensions[i]]=e.callback}},e.setMaxConnections=function(t){this._maxConnections=t,this._paused||this._loadNext()},e.loadFile=function(t,e){return null==t?(this._sendError({text:"PRELOAD_NO_FILE"}),void 0):(this._addItem(t),e!==!1&&this.setPaused(!1),void 0)},e.loadManifest=function(t,e){var i=null;if(t instanceof Array){if(0==t.length)return this._sendError({text:"PRELOAD_MANIFEST_EMPTY"}),void 0;i=t}else{if(null==t)return this._sendError({text:"PRELOAD_MANIFEST_NULL"}),void 0;i=[t]}for(var n=0,s=i.length;s>n;n++)this._addItem(i[n]);e!==!1&&this.setPaused(!1)},e.load=function(){this.setPaused(!1)},e.getItem=function(t){return this._loadItemsById[t]||this._loadItemsBySrc[t]},e.getResult=function(t,e){var i=this._loadItemsById[t]||this._loadItemsBySrc[t];if(null==i)return null;var n=i.id;return e&&this._loadedRawResults[n]?this._loadedRawResults[n]:this._loadedResults[n]},e.setPaused=function(t){this._paused=t,this._paused||this._loadNext()},e.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1},e._addItem=function(t){var e=this._createLoadItem(t);if(null!=e){var i=this._createLoader(e);null!=i&&(this._loadQueue.push(i),this._loadQueueBackup.push(i),this._numItems++,this._updateProgress(),this.maintainScriptOrder&&e.type==createjs.LoadQueue.JAVASCRIPT&&i instanceof createjs.XHRLoader&&(this._scriptOrder.push(e),this._loadedScripts.push(null)))}},e._createLoadItem=function(t){var e=null;switch(typeof t){case"string":e={src:t};break;case"object":e=window.HTMLAudioElement&&t instanceof HTMLAudioElement?{tag:t,src:e.tag.src,type:createjs.LoadQueue.SOUND}:t;break;default:}var i=this._parseURI(e.src);null!=i&&(e.ext=i[5]),null==e.type&&(e.type=this._getTypeByExtension(e.ext)),null==e.tag&&(e.tag=this._createTag(e.type)),(null==e.id||""==e.id)&&(e.id=e.src);var n=this._typeCallbacks[e.type]||this._extensionCallbacks[e.ext];if(n){var s=n(e.src,e.type,e.id,e.data);if(s===!1)return null;s===!0||(null!=s.src&&(e.src=s.src),null!=s.id&&(e.id=s.id),null!=s.tag&&s.tag.load instanceof Function&&(e.tag=s.tag),null!=s.completeHandler&&(e.completeHandler=s.completeHandler)),s.type&&(e.type=s.type),i=this._parseURI(e.src),null!=i&&null!=i[5]&&(e.ext=i[5].toLowerCase())}return this._loadItemsById[e.id]=e,this._loadItemsBySrc[e.src]=e,e},e._createLoader=function(t){var e=this.useXHR;switch(t.type){case createjs.LoadQueue.JSON:case createjs.LoadQueue.XML:case createjs.LoadQueue.TEXT:e=!0;break;case createjs.LoadQueue.SOUND:e=!1}return e?new createjs.XHRLoader(t):new createjs.TagLoader(t)},e._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded&&(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load());for(var t=0,e=this._loadQueue.length;e>t&&!(this._currentLoads.length>=this._maxConnections);t++){var i=this._loadQueue[t];if(this.maintainScriptOrder&&i instanceof createjs.TagLoader&&i.getItem().type==createjs.LoadQueue.JAVASCRIPT){if(this._currentlyLoadingScript)continue;this._currentlyLoadingScript=!0}this._loadQueue.splice(t,1),this._loadItem(i),t--,e--}}},e._loadItem=function(t){t.addEventListener("progress",createjs.proxy(this._handleProgress,this)),t.addEventListener("complete",createjs.proxy(this._handleFileComplete,this)),t.addEventListener("error",createjs.proxy(this._handleFileError,this)),this._currentLoads.push(t),t.load()},e._handleFileError=function(t){var e=t.target;this._numItemsLoaded++,this._updateProgress();var t={item:e.getItem()};this._sendError(t),this.stopOnError||(this._removeLoadItem(e),this._loadNext())},e._handleFileComplete=function(t){var e=t.target,i=e.getItem();if(this._loadedResults[i.id]=e.getResult(),e instanceof createjs.XHRLoader&&(this._loadedRawResults[i.id]=e.getResult(!0)),this._removeLoadItem(e),this.maintainScriptOrder&&i.type==createjs.LoadQueue.JAVASCRIPT){if(!(e instanceof createjs.TagLoader))return this._loadedScripts[this._scriptOrder.indexOf(i)]=i,this._checkScriptLoadOrder(e),void 0;this._currentlyLoadingScript=!1}this._processFinishedLoad(i)},e._processFinishedLoad=function(t){this._numItemsLoaded++,this._updateProgress(),this._sendFileComplete(t),this._loadNext()},e._checkScriptLoadOrder=function(){for(var t=this._loadedScripts.length,e=0;t>e;e++){var i=this._loadedScripts[e];if(null===i)break;i!==!0&&(this._processFinishedLoad(i),this._loadedScripts[e]=!0,e--,t--)}},e._removeLoadItem=function(t){for(var e=this._currentLoads.length,i=0;e>i;i++)if(this._currentLoads[i]==t){this._currentLoads.splice(i,1);break}},e._handleProgress=function(t){var e=t.target;this._sendFileProgress(e.getItem(),e.progress),this._updateProgress()},e._updateProgress=function(){var t=this._numItemsLoaded/this._numItems,e=this._numItems-this._numItemsLoaded;if(e>0){for(var i=0,n=0,s=this._currentLoads.length;s>n;n++)i+=this._currentLoads[n].progress;t+=i/e*(e/this._numItems)}this._sendProgress(t)},e._disposeItem=function(t){delete this._loadedResults[t.id],delete this._loadedRawResults[t.id],delete this._loadItemsById[t.id],delete this._loadItemsBySrc[t.src]},e._createTag=function(t){var e=null;switch(t){case createjs.LoadQueue.IMAGE:return document.createElement("img");case createjs.LoadQueue.SOUND:return e=document.createElement("audio"),e.autoplay=!1,e;case createjs.LoadQueue.JAVASCRIPT:return e=document.createElement("script"),e.type="text/javascript",e;case createjs.LoadQueue.CSS:return e=this.useXHR?document.createElement("style"):document.createElement("link"),e.rel="stylesheet",e.type="text/css",e;case createjs.LoadQueue.SVG:return this.useXHR?e=document.createElement("svg"):(e=document.createElement("object"),e.type="image/svg+xml"),e}return null},e._getTypeByExtension=function(t){switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.LoadQueue.IMAGE;case"ogg":case"mp3":case"wav":return createjs.LoadQueue.SOUND;case"json":return createjs.LoadQueue.JSON;case"xml":return createjs.LoadQueue.XML;case"css":return createjs.LoadQueue.CSS;case"js":return createjs.LoadQueue.JAVASCRIPT;case"svg":return createjs.LoadQueue.SVG;default:return createjs.LoadQueue.TEXT}},e._sendFileProgress=function(t,e){if(this._isCanceled())return this._cleanUp(),void 0;var i={target:this,type:"fileprogress",progress:e,loaded:e,total:1,item:t};this.onFileProgress&&this.onFileProgress(i),this.dispatchEvent(i)},e._sendFileComplete=function(t){if(!this._isCanceled()){var e={target:this,type:"fileload",item:t,result:this._loadedResults[t.id],rawResult:this._loadedRawResults[t.id]};t.completeHandler&&t.completeHandler(e),this.onFileLoad&&this.onFileLoad(e),this.dispatchEvent(e)}},e.toString=function(){return"[PreloadJS LoadQueue]"},createjs.proxy=function(t,e){return function(){return t.apply(e,arguments)}},createjs.LoadQueue=t,createjs.proxy||(createjs.proxy=function(t,e){var i=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(i))}});var s=function(){};s.init=function(){var t=navigator.userAgent;s.isFirefox=t.indexOf("Firefox")>-1,s.isOpera=null!=window.opera,s.isChrome=t.indexOf("Chrome")>-1,s.isIOS=t.indexOf("iPod")>-1||t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1},s.init(),createjs.LoadQueue.BrowserDetect=s,Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null==this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!=n?n=0:0!=n&&1/0!=n&&n!=-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var s=n>=0?n:Math.max(i-Math.abs(n),0);i>s;s++)if(s in e&&e[s]===t)return s;return-1})}(),this.createjs=this.createjs||{},function(){var t=function(t){this.init(t)},e=t.prototype=new createjs.AbstractLoader;e._loadTimeout=null,e._tagCompleteProxy=null,e._isAudio=!1,e._tag=null,e.init=function(t){this._item=t,this._tag=t.tag,this._isAudio=window.HTMLAudioElement&&t.tag instanceof HTMLAudioElement,this._tagCompleteProxy=createjs.proxy(this._handleLoad,this)},e.getResult=function(){return this._tag},e.cancel=function(){this.canceled=!0,this._clean(),this.getItem()},e.load=function(){var t=this._item,e=this._tag;switch(clearTimeout(this._loadTimeout),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),createjs.LoadQueue.LOAD_TIMEOUT),this._isAudio&&(e.src=null,e.preload="auto"),e.onerror=createjs.proxy(this._handleError,this),this._isAudio?(e.onstalled=createjs.proxy(this._handleStalled,this),e.addEventListener("canplaythrough",this._tagCompleteProxy,!1)):(e.onload=createjs.proxy(this._handleLoad,this),e.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this)),t.type){case createjs.LoadQueue.CSS:e.href=t.src;break;case createjs.LoadQueue.SVG:e.data=t.src;break;default:e.src=t.src}(t.type==createjs.LoadQueue.SVG||t.type==createjs.LoadQueue.JAVASCRIPT||t.type==createjs.LoadQueue.CSS)&&(document.body||document.getElementsByTagName("body")[0]).appendChild(e),null!=e.load&&e.load()},e._handleTimeout=function(){this._clean(),this._sendError({reason:"PRELOAD_TIMEOUT"})},e._handleStalled=function(){},e._handleError=function(){this._clean(),this._sendError()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this.getItem().tag;"loaded"==t.readyState&&this._handleLoad()},e._handleLoad=function(){if(!this._isCanceled()){var t=this.getItem(),e=t.tag;this.loaded||this.isAudio&&4!==e.readyState||(this.loaded=!0,t.type==createjs.LoadQueue.SVG&&(document.body||document.getElementsByTagName("body")[0]).removeChild(e),this._clean(),this._sendComplete())}},e._clean=function(){clearTimeout(this._loadTimeout);var t=this.getItem().tag;t.onload=null,t.removeEventListener&&t.removeEventListener("canplaythrough",this._tagCompleteProxy,!1),t.onstalled=null,t.onprogress=null,t.onerror=null,t.parentNode&&t.parentNode.removeChild(t)},e.toString=function(){return"[PreloadJS TagLoader]"},createjs.TagLoader=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.init(t)},e=t.prototype=new createjs.AbstractLoader;e._request=null,e._loadTimeout=null,e._xhrLevel=1,e._response=null,e._rawResponse=null,e.init=function(t){this._item=t,!this._createXHR(t)},e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null==this._request)return this._handleError(),void 0;this._request.onloadstart=createjs.proxy(this._handleLoadStart,this),this._request.onprogress=createjs.proxy(this._handleProgress,this),this._request.onabort=createjs.proxy(this._handleAbort,this),this._request.onerror=createjs.proxy(this._handleError,this),this._request.ontimeout=createjs.proxy(this._handleTimeout,this),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),createjs.LoadQueue.LOAD_TIMEOUT)),this._request.onload=createjs.proxy(this._handleLoad,this),this._request.onreadystatechange&&(this._request.onreadystatechange=this._handleReadyStateChange(this));try{this._request.send()}catch(t){this._sendError({source:t})}},e._handleProgress=function(t){t.loaded>0&&0==t.total||this._sendProgress({loaded:t.loaded,total:t.total})},e._handleLoadStart=function(){clearTimeout(this._loadTimeout),this._sendLoadStart()},e._handleAbort=function(){this._clean(),this._sendError()},e._handleError=function(){this._clean(),this._sendError()},e._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(){if(!this.loaded){if(this.loaded=!0,!this._checkError())return this._handleError(),void 0;this._response=this._getResponse(),this._clean();var t=this._generateTag();t&&this._sendComplete()}},e._handleTimeout=function(){this._clean(),this._sendError({reason:"PRELOAD_TIMEOUT"})},e._checkError=function(){var t=parseInt(this._request.status);switch(t){case 404:case 0:return!1}return!0},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=document.createElement("a");e.href=t.src;var i=document.createElement("a");i.href=location.href;var n=""!=e.hostname&&(e.port!=i.port||e.protocol!=i.protocol||e.hostname!=i.hostname),s=null;if(n&&window.XDomainRequest)s=new XDomainRequest;else if(window.XMLHttpRequest)s=new XMLHttpRequest;else try{s=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(r){try{s=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(r){try{s=new ActiveXObject("Msxml2.XMLHTTP")}catch(r){return!1}}}return t.type==createjs.LoadQueue.TEXT&&s.overrideMimeType&&s.overrideMimeType("text/plain; charset=x-user-defined"),this._xhrLevel="string"==typeof s.responseType?2:1,s.open("GET",t.src,!0),n&&s instanceof XMLHttpRequest&&1==this._xhrLevel&&s.setRequestHeader("Origin",location.origin),createjs.LoadQueue.isBinary(t.type)&&(s.responseType="arraybuffer"),this._request=s,!0},e._clean=function(){clearTimeout(this._loadTimeout);var t=this._request;t.onloadstart=null,t.onprogress=null,t.onabort=null,t.onerror=null,t.onload=null,t.ontimeout=null,t.onloadend=null,t.onreadystatechange=null},e._generateTag=function(){var t=this._item.type,e=this._item.tag;switch(t){case createjs.LoadQueue.IMAGE:return e.onload=createjs.proxy(this._handleTagReady,this),e.src=this._item.src,this._rawResponse=this._response,this._response=e,!1;case createjs.LoadQueue.JAVASCRIPT:return e=document.createElement("script"),e.text=this._response,this._rawResponse=this._response,this._response=e,!0;case createjs.LoadQueue.CSS:var i=document.getElementsByTagName("head")[0];if(i.appendChild(e),e.styleSheet)e.styleSheet.cssText=this._response;else{var n=document.createTextNode(this._response);e.appendChild(n)}return this._rawResponse=this._response,this._response=e,!0;case createjs.LoadQueue.XML:var s=this._parseXML(this._response,"text/xml");return this._response=s,!0;case createjs.LoadQueue.SVG:var s=this._parseXML(this._response,"image/svg+xml");return this._rawResponse=this._response,e.appendChild(s.documentElement),this._response=e,!0;case createjs.LoadQueue.JSON:var r={};try{r=JSON.parse(this._response)}catch(a){r=null}return this._rawResponse=this._response,this._response=r,!0}return!0},e._parseXML=function(t,e){var i=null;if(window.DOMParser){var n=new DOMParser;i=n.parseFromString(t,e)}else i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,i.loadXML(t);return i},e._handleTagReady=function(){this._sendComplete()},e.toString=function(){return"[PreloadJS XHRLoader]"},createjs.XHRLoader=t}(),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,s,r,a,o=gap,h=e[t];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(t)),"function"==typeof rep&&(h=rep.call(e,t,h)),typeof h){case"string":return quote(h);case"number":return isFinite(h)?h+"":"null";case"boolean":case"null":return h+"";case"object":if(!h)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(h)){for(r=h.length,i=0;r>i;i+=1)a[i]=str(i,h)||"null";return s=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+o+"]":"["+a.join(",")+"]",gap=o,s}if(rep&&"object"==typeof rep)for(r=rep.length,i=0;r>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],s=str(n,h),s&&a.push(quote(n)+(gap?": ":":")+s));else for(n in h)Object.prototype.hasOwnProperty.call(h,n)&&(s=str(n,h),s&&a.push(quote(n)+(gap?": ":":")+s));return s=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+o+"}":"{"+a.join(",")+"}",gap=o,s}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,n,s=t[e];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n=walk(s,i),void 0!==n?s[i]=n:delete s[i]);return reviver.call(t,e,s)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(){throw"GamePad cannot be instantiated."};t._control={},t._key=[256],t._press=[256],t._release=[256],t._keyNum=0,t._pressNum=0,t._releaseNum=0,t._MAX_STORE_KEYS=100,t.initialize=function(t){t&&(t.canvas.ownerDocument.onkeydown=this._onKeyDown.bind(this),t.canvas.ownerDocument.onkeyup=this._onKeyUp.bind(this))},t.define=function(t,e){if(!t||0===t.length)throw"name param needed";if(!e||0===e.length)throw"buttons param needed";this._control[t]=e},t.check=function(t){if(t){if(!this._control[t])return!1;for(var e=this._control[t],i=e.length;i--;)if(0>e[i]){if(this._keyNum>0)return!0}else if(this._key[e[i]])return!0;return!1}return 0>t?this._keyNum>0:this._key[t]},t.isPressed=function(t){if(t){if(!this._control[t])return!1;for(var e=this._control[t],i=e.length;i--;)if(0>e[i]&&this._pressNum||e[i]>0&&this._press.indexOf(e[i])>=0)return!0;return!1}return 0>t?Boolean(this._pressNum):this._press.indexOf(t)>=0},t.update=function(){for(;this._pressNum--;)this._press[this._pressNum]=-1;for(this._pressNum=0;this._releaseNum--;)this._release[this._releaseNum]=-1;this._releaseNum=0},t.clear=function(){this._press.length=this._pressNum=0,this._release.length=this._releaseNum=0;for(var t=this._key.length;t--;)this._key[t]=!1},t._onKeyDown=function(t){t||(t=window.event);var e=t.keyCode;0>e||e>255||this._key[e]||(this._key[e]=!0,this._keyNum++,this._press[this._pressNum++]=e)},t._onKeyUp=function(t){t||(t=window.event);var e=t.keyCode;0>e||e>255||this._key[e]&&(this._key[e]=!1,this._keyNum--,this._release[this._releaseNum++]=e)},flyjs.GamePad=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(){throw"Key cannot be instantiated."};t.ANY=-1,t.LEFT=37,t.UP=38,t.RIGHT=39,t.DOWN=40,t.ENTER=13,t.COMMAND=15,t.CONTROL=17,t.SPACE=32,t.SHIFT=16,t.BACKSPACE=8,t.CAPS_LOCK=20,t.DELETE=46,t.END=35,t.ESCAPE=27,t.HOME=36,t.INSERT=45,t.TAB=9,t.PAGE_DOWN=34,t.PAGE_UP=33,t.LEFT_SQUARE_BRACKET=219,t.RIGHT_SQUARE_BRACKET=221,t.A=65,t.B=66,t.C=67,t.D=68,t.E=69,t.F=70,t.G=71,t.H=72,t.I=73,t.J=74,t.K=75,t.L=76,t.M=77,t.N=78,t.O=79,t.P=80,t.Q=81,t.R=82,t.S=83,t.T=84,t.U=85,t.V=86,t.W=87,t.X=88,t.Y=89,t.Z=90,t.F1=112,t.F2=113,t.F3=114,t.F4=115,t.F5=116,t.F6=117,t.F7=118,t.F8=119,t.F9=120,t.F10=121,t.F11=122,t.F12=123,t.F13=124,t.F14=125,t.F15=126,t.DIGIT_0=48,t.DIGIT_1=49,t.DIGIT_2=50,t.DIGIT_3=51,t.DIGIT_4=52,t.DIGIT_5=53,t.DIGIT_6=54,t.DIGIT_7=55,t.DIGIT_8=56,t.DIGIT_9=57,t.NUMPAD_0=96,t.NUMPAD_1=97,t.NUMPAD_2=98,t.NUMPAD_3=99,t.NUMPAD_4=100,t.NUMPAD_5=101,t.NUMPAD_6=102,t.NUMPAD_7=103,t.NUMPAD_8=104,t.NUMPAD_9=105,t.NUMPAD_ADD=107,t.NUMPAD_DECIMAL=110,t.NUMPAD_DIVIDE=111,t.NUMPAD_ENTER=108,t.NUMPAD_MULTIPLY=106,t.NUMPAD_SUBTRACT=109,flyjs.Key=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(){throw"AssetManager cannot be instantiated."};t.manifest={},t._assets={},t.addBitmapAsset=function(t){var e;e=new createjs.Bitmap(t.src),this._assets[t.id]=e},t.addSpriteSheetAsset=function(t){var e,i;e=new createjs.SpriteSheet(t),i=new createjs.BitmapAnimation(e),this._assets[t.id]={sprite:e,bitmap:i}},t.getAsset=function(t){var e=this._assets[t];if(null==e)throw"asset not exist!";return e},flyjs.AssetManager=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(){},e=t.prototype;e._listEntities=[],e.getEntities=function(){return this._listEntities},e.add=function(t){this._listEntities.push(t)},flyjs.EntitiesCollection=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(){},e=t.prototype;createjs.EventDispatcher.initialize(e),e.start=function(){this.execute()},e.execute=function(){},e.complete=function(){this.dispatchEvent("complete")},flyjs.Command=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(t){this.initialize(t)},e=t.prototype=new flyjs.Command;e.initialize=function(t){this._commands=t},e.execute=function(){this._completeCommandCount=0,this._commands[0].addEventListener("complete",this.onSubCommandComplete.bind(this)),this._commands[0].start()},e.onSubCommandComplete=function(){this._commands[this._completeCommandCount].removeEventListener("complete",this.onSubCommandComplete.bind(this)),this._completeCommandCount++,this._completeCommandCount==this._commands.length?this.complete():(this._commands[this._completeCommandCount].addEventListener("complete",this.onSubCommandComplete.bind(this)),this._commands[this._completeCommandCount].start())},e._commands=[],e._completeCommandCount=0,flyjs.SerialCommand=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(){},e=t.prototype=new flyjs.Command;e.images=null,e.execute=function(){flyjs.AssetManager.manifest.images?(this.images=[],this._loader=new flyjs.Loader({onFileLoad:this.handleOnFileLoad.bind(this),onComplete:this.handleOnComplete.bind(this)}),this._loader.loadManifest(flyjs.AssetManager.manifest.images)):this.complete()},e.handleOnFileLoad=function(t){this.images.push(t.item)},e.handleOnComplete=function(){flyjs.ManifestParser.parseImages(this.images),this.complete(),this.images=null},flyjs.ImageLoader=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(t){this._options=t},e=t.prototype;e.loadFile=function(t){this._loader=new createjs.LoadQueue,this._addHandlers(),this._loader.loadFile(t)},e.loadManifest=function(t){this._loader=new createjs.LoadQueue(!1),this._addHandlers(),this._loader.loadManifest(t)},e._addHandlers=function(){this._loader.onProgress=this._options.onProgress,this._loader.onError=this._options.onError,this._loader.onFileLoad=this._options.onFileLoad,this._loader.onComplete=this._options.onComplete},flyjs.Loader=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(t){this.initialize(t)},e=t.prototype=new flyjs.Command;e.initialize=function(t){this._manifestUrl=t},e.execute=function(){this._loader=new flyjs.Loader({onFileLoad:this.handleOnFileLoad.bind(this),onComplete:this.handleOnComplete.bind(this)}),this._loader.loadFile(this._manifestUrl)},e.handleOnFileLoad=function(t){flyjs.AssetManager.manifest=t.result},e.handleOnComplete=function(){this.complete()},flyjs.ManifestLoader=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(){},e=t.prototype=new flyjs.Command;e.spriteSheets=null,e.execute=function(){if(flyjs.AssetManager.manifest.spriteSheets){this.spriteSheets=[],this._loader=new flyjs.Loader({onFileLoad:this.handleOnFileLoad.bind(this),onComplete:this.handleOnComplete.bind(this)});var t,e=0,i=[],n=flyjs.AssetManager.manifest.spriteSheets.length;for(e;n>e;e++)t=flyjs.AssetManager.manifest.spriteSheets[e],i.push(t.images[0]);this._loader.loadManifest(i)}else this.complete()},e.handleOnFileLoad=function(t){this.spriteSheets.push(t.item)},e.handleOnComplete=function(){flyjs.ManifestParser.parseSpriteSheets(flyjs.AssetManager.manifest.spriteSheets),this.complete(),this.spriteSheets=null},flyjs.SpriteSheetLoader=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(){},e=t.prototype;e.name=null,e.stage=null,e.visible=!0,e.collidable=!0,e.allowCollisions=!0,e.exists=!0,e.last=null,e.x=0,e.y=0,e.originX=0,e.originY=0,e.child=null,e.initialize=function(t){this.stage=t,this.last={}},e.addChild=function(t){this.child=t,this.stage.addChild(t)},e.update=function(){null!=this.child&&(this.last.x=this.x=this.child.x,this.last.y=this.y=this.child.y,this.child.hasOwnProperty("image")&&(this.width=this.child.image.width,this.height=this.child.image.height))},e.destroy=function(){this.stage=null,this.last=null},flyjs.Entity=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(){},e=t.prototype=new flyjs.Entity;e.initialize=function(){},flyjs.EntityImage=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(t){this.initialize(t)},e=t.prototype;createjs.EventDispatcher.initialize(e),e._loader=null,e._manifestUrl="",e.initialize=function(t){this._manifestUrl=t},e.start=function(){this.serial=new flyjs.SerialCommand([new flyjs.ManifestLoader(this._manifestUrl),new flyjs.ImageLoader,new flyjs.SpriteSheetLoader]),this.serial.addEventListener("complete",this.handleComplete.bind(this)),this.serial.start()},e.handleComplete=function(){this.dispatchEvent("ManifestCompleteLoad")},e.handleFileLoad=function(){},flyjs.ManifestManager=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(){throw"ManifestParser cannot be instantiated."};t.parseImages=function(t){var e,i=0,n=t.length;for(i;n>i;i++)e=t[i],flyjs.AssetManager.addBitmapAsset(e)},t.parseSpriteSheets=function(t){var e,i=0,n=t.length;for(i;n>i;i++)e=t[i],flyjs.AssetManager.addSpriteSheetAsset(e)},flyjs.ManifestParser=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(t,e,i,n){this.initialize(t,e,i,n)},e=t.prototype;t.TOP_LEFT=0,t.TOP_RIGHT=1,t.BOTTOM_LEFT=2,t.BOTTOM_RIGHT=3,e.children=null,e.nodes=null,e.initialize=function(t,e,i,n){this._bounds=t,this.children=[],this.nodes=[],n&&(this._maxChildren=n),i&&(this._maxDepth=i),e&&(this._depth=e)},e.insert=function(t){if(this.nodes.length){var e=this._findIndex(t);return this.nodes[e].insert(t),void 0}this._appendInsertItem(t)},e.subdivide=function(){var e=this._depth+1,i=this._bounds.x,n=this._bounds.y,s=0|this._bounds.width/2,r=0|this._bounds.height/2,a=i+s,o=n+r;this.nodes[t.TOP_LEFT]=new flyjs.Node({x:i,y:n,width:s,height:r},e),this.nodes[t.TOP_RIGHT]=new flyjs.Node({x:a,y:n,width:s,height:r},e),this.nodes[t.BOTTOM_LEFT]=new flyjs.Node({x:i,y:o,width:s,height:r},e),this.nodes[t.BOTTOM_RIGHT]=new flyjs.Node({x:a,y:o,width:s,height:r},e)},e.clear=function(){this.children.length=0;var t=this.nodes.length,e=0;for(e;t>e;e++)this.nodes[e].clear();this.nodes.length=0},e.retrieve=function(t){if(this.nodes.length){var e=this._findIndex(t);return this.nodes[e].retrieve(t)}return this.children},e._appendInsertItem=function(t){this.children.push(t);var e=this.children.length,i=0;if(this._depth<this._maxDepth&&e>this._maxChildren){for(this.subdivide(),i;e>i;i++)this.insert(this.children[i]);this.children.length=0}},e._findIndex=function(e){var i=this._bounds,n=e.x<=i.x+i.width/2,s=e.y<=i.y+i.height/2,r=t.TOP_LEFT;return n?s||(r=t.BOTTOM_LEFT):r=s?t.TOP_RIGHT:t.BOTTOM_RIGHT,r},e._bounds=null,e._depth=null,e._maxDepth=null,e._maxChildren=null,flyjs.Node=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(t,e,i,n){this.initialize(t,e,i,n)},e=t.prototype=new flyjs.Node;e.Node_initialize=e.initialize,e._out=null,e._stuckChildren=null,e.initialize=function(t,e,i,n){this._stuckChildren=[],this._out=[],this.Node_initialize(t,e,i,n)
},e.insert=function(t){if(this.nodes.length){var e=this._findIndex(t),i=this.nodes[e];return t.x>=i._bounds.x&&t.x+t.width<=i._bounds.x+i._bounds.width&&t.y>=i._bounds.y&&t.y+t.height<=i._bounds.y+i._bounds.height?this.nodes[e].insert(t):this._stuckChildren.push(t),void 0}this._appendInsertItem(t)},e.getChildren=function(){return this.children.concat(this._stuckChildren)},e.retrieve=function(t){var e=this._out;if(e.length=0,this.nodes.length){var i=this._findIndex(t);e.push.apply(e,this.nodes[i].retrieve(t))}return e.push.apply(e,this._stuckChildren),e.push.apply(e,this.children),e},e.clear=function(){this._stuckChildren.length=0,this.children.length=0;var t=this.nodes.length;if(t){var e=0;for(e;t>e;e++)this.nodes[e].clear();this.nodes.length=0}},flyjs.BoundsNode=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(t,e,i,n){this.initialize(t,e,i,n)},e=t.prototype;e.root=null,e.initialize=function(t,e,i,n){var s;s=e?new flyjs.Node(t,0,i,n):new flyjs.BoundsNode(t,0,i,n),this.root=s},e.insert=function(t){if(t instanceof Array){var e=t.length,i=0;for(i;e>i;i++)this.root.insert(t[i])}else this.root.insert(t)},e.clear=function(){this.root.clear()},e.retrieve=function(t){return this.root.retrieve(t).slice(0)},flyjs.QuadTree=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(t){this.initialize(t)},e=t.prototype;e.initialize=function(t){this._stage=t},e.updateScene=function(){},flyjs.EntitiesRender=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(){},e=t.prototype=new createjs.Container;createjs.EventDispatcher.initialize(e),e._tickThreshold=3e3,e._fps=25,e.frameNumber=0,e.initialize=function(t){if(!t)throw new flyjs.Exception("error in parameters","Stage is Null")},e.startRender=function(t){createjs.Ticker.addEventListener("tick",t),createjs.Ticker.setFPS(this._fps),this.addEventListener("tick",this.tickHandler)},e.stopRender=function(){},e.tickHandler=function(){this.frameNumber++},flyjs.Render=t}(),this.flyjs=this.flyjs||{},function(){"use strict";var t=function(){},e=t.prototype=new flyjs.Render;e.Render_initialize=e.initialize,e.Render_startRender=e.startRender,e.Render_stopRender=e.stopRender,e.Render_tick=e.tickHandler,e.stage=null,e.initialize=function(t,e){if(!t)throw new flyjs.Exception("StageRender: error in parameters","Stage is Null");this._parseOptions(e),this._createStage(t),this._entitiesCollection=new flyjs.EntitiesCollection,flyjs.GamePad.initialize(this.stage),this.Render_initialize(this.stage),this.loader=new flyjs.ManifestManager(this._options.manifest),this.loader.addEventListener("ManifestCompleteLoad",this.loadManifestComplete.bind(this)),this.loader.start()},e._parseOptions=function(t){t.hasOwnProperty("manifest")&&(this._options.manifest=t.manifest),t.hasOwnProperty("width")&&(this._options.width=t.width),t.hasOwnProperty("height")&&(this._options.height=t.height)},e._createStage=function(t){var e=document.getElementsByClassName(t)[0],i=document.createElement("canvas");i.width=this._options.width,i.height=this._options.height,e.appendChild(i),this.stage=new createjs.Stage(i),this.stage.addChild(this),this.stage.update()},e._addStats=function(){this._FPSMeter=new Stats,this._FPSMeter.setMode(0),this._FPSMeter.domElement.style.position="absolute",this._FPSMeter.domElement.style.left="0px",this._FPSMeter.domElement.style.top="0px",document.body.appendChild(this._FPSMeter.domElement)},e.loadManifestComplete=function(){this.loader.removeEventListener("ManifestCompleteLoad",this.loadManifestComplete)},e.startRender=function(){this.Render_startRender(this.stage),this._addStats()},e.stopRender=function(){this.Render_stopRender()},e.tickHandler=function(t){this._FPSMeter.begin(),this.Render_tick(t);var e=0,i=this._entitiesCollection._listEntities.length;for(e;i>e;e++)this._entitiesCollection._listEntities[e].update();flyjs.GamePad.update(),this._FPSMeter.end()},e.add=function(t){this._entitiesCollection.add(t)},e._options={manifest:"manifest.json",width:800,height:600},e._entitiesCollection=null,e._FPSMeter=null,flyjs.StageRender=t}();